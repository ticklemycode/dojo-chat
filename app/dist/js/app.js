(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _hw = require('./modules/hw');

var _chat = require('./modules/chat');

console.log('Just want to say, ' + _hw.HELLO_WORLD);

window.$ = document.querySelector.bind(document);

var options = {
  joinForm: $('#join'),
  chatForm: $('#chat-form'),
  input: $('#chat-input'),
  usersOutlet: $('#users-outlet'),
  chatOutlet: $('#chat-outlet'),
  randomUserImg: $('#random-user-img'),
  username: $('#username'),
  error: $('#error')
};

var DojoChat = new _chat.ChatService(options);

},{"./modules/chat":2,"./modules/hw":3}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ChatService = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _socket = require('../../../node_modules/socket.io-client/dist/socket.io');

var _socket2 = _interopRequireDefault(_socket);

var _events = require('../../../server/events');

var _events2 = _interopRequireDefault(_events);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var API_URL = 'https://randomuser.me/api/';

var ChatService = exports.ChatService = function () {
  function ChatService(options) {
    _classCallCheck(this, ChatService);

    this.input = options.input;
    this.chatOutlet = options.chatOutlet;
    this.usersOutlet = options.usersOutlet;
    this.chatForm = options.chatForm;
    this.joinForm = options.joinForm;
    this.randomUserImg = options.randomUserImg;
    this.username = options.username;
    this.error = options.error;

    this.randomUserImgUrl;

    /** Un-comment if running as a standalone service */

    // UPDATE IF IP CHANGES!!!!!!!!!!!!!!!
    this.socket = _socket2.default.connect('http://ticklemycode.io/');

    /** START for Express Server */
    // this.socket = io();
    /** END for Express Server */

    this.onInit();
  }

  /**
   * addMessage
   * Adds chat message to chat outlet
   * @param {{msg:string,img:string,time:string,username:string}} data: 
   */


  _createClass(ChatService, [{
    key: 'addMessage',
    value: function addMessage(data) {
      var _this = this;

      var xhr = new XMLHttpRequest();
      xhr.open('GET', data.img, true);
      xhr.responseType = 'blob';
      xhr.onload = function (e) {
        var img = window.URL.createObjectURL(xhr.response);
        var chatWindow = document.querySelector('#chat-outlet');
        chatWindow.insertAdjacentHTML('beforeend', _this.msgTemplate(data, img));

        // scroll to bottom of chat window
        chatWindow.scrollTop = _this.chatOutlet.scrollHeight;
      };

      xhr.send();
    }

    /**
     * addUsers
     * Adds users to active users outlet
     * @param {[]} users 
     */

  }, {
    key: 'addUsers',
    value: function addUsers(users) {
      var _this2 = this;

      users.forEach(function (user) {
        _this2.usersOutlet.insertAdjacentHTML('beforeend', _this2.userTemplate(user));
      });
    }

    /**
     * showChat
     * show chat area and high join form
     */

  }, {
    key: 'showChat',
    value: function showChat() {
      $('#join-chat').style.display = 'none';
      $('#chat').style.display = 'flex';
    }

    /**
     * setRandomImage
     * Fetches random image for user
     */

  }, {
    key: 'setRandomImage',
    value: function setRandomImage() {
      var _this3 = this;

      // TODO: choose gender `&gender=<male|female>`
      return fetch(API_URL + '?inc=picture').then(function (resp) {
        return resp.json();
      }).then(function (data) {
        _this3.randomUserImgUrl = data.results[0].picture.large;
        var xhr = new XMLHttpRequest();
        xhr.open('GET', data.results[0].picture.large, true);
        xhr.responseType = 'blob';
        xhr.onload = function (e) {
          document.querySelector('#random-user-img').src = window.URL.createObjectURL(this.response);
        };

        xhr.send();
      });
    }

    /**
     * msgTemplate
     * @param {{img:string,username:string,time:string,msg:string}} data 
     */

  }, {
    key: 'msgTemplate',
    value: function msgTemplate(data, img) {
      return '\n    <li class="media">\n      <img class="mr-3 rounded-circle" src="' + img + '" alt="Person">\n      <div class="media-body">\n        <h6>' + data.username + ' <small class="time">' + data.time + '</small></h6>\n        ' + data.msg + '\n      </div>\n    </li>\n    ';
    }

    /**
     * userTemplate
     * @param {string} user 
     */

  }, {
    key: 'userTemplate',
    value: function userTemplate(user) {
      return '\n      <li class="media">\n        <div class="media-body">\n          <h6>' + user + '</h6>\n        </div>\n      </li>\n    ';
    }

    /**
     * socketEventListeners
     * Listens for emitted events from server (socket)
     */

  }, {
    key: 'socketEventListeners',
    value: function socketEventListeners() {
      var _this4 = this;

      this.socket.on(_events2.default.NEW_MESSAGE, function (data) {
        _this4.addMessage(data);
      });

      this.socket.on(_events2.default.SEND_USERNAMES, function (usernames) {
        _this4.addUsers(usernames);
      });
    }

    /**
     * socketEventEmitters
     * Emits events to server (socket)
     */

  }, {
    key: 'socketEventEmitters',
    value: function socketEventEmitters() {
      var _this5 = this;

      // submitting join form
      this.joinForm.addEventListener('submit', function (e) {
        e.preventDefault();

        // with acknowledgement callback
        _this5.socket.emit(_events2.default.NEW_USER, _this5.username.value, function (cbData) {
          _this5.error.style.display = 'none';
          if (cbData) {
            _this5.showChat();
          } else {
            _this5.error.innerHTML = 'Username already take... sowwy';
            _this5.error.style.display = 'block';
          }
        });
      });

      // submitting chat form
      this.chatForm.addEventListener('submit', function (e) {
        e.preventDefault();

        _this5.socket.emit(_events2.default.SEND_MESSAGE, {
          msg: _this5.input.value,
          img: _this5.randomUserImgUrl
        });

        _this5.input.value = '';
      });
    }

    /**
     * onInit
     * Initialize chat service
     */

  }, {
    key: 'onInit',
    value: function onInit() {
      // events from server
      this.socketEventListeners();

      // events to server
      this.socketEventEmitters();

      // set random image
      this.setRandomImage();
    }
  }]);

  return ChatService;
}();

},{"../../../node_modules/socket.io-client/dist/socket.io":4,"../../../server/events":5}],3:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var HELLO_WORLD = exports.HELLO_WORLD = 'Hello World!';

},{}],4:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.io=e():t.io=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t,e){"object"===("undefined"==typeof t?"undefined":o(t))&&(e=t,t=void 0),e=e||{};var n,r=i(t),s=r.source,u=r.id,h=r.path,f=p[u]&&h in p[u].nsps,l=e.forceNew||e["force new connection"]||!1===e.multiplex||f;return l?(c("ignoring socket cache for %s",s),n=a(s,e)):(p[u]||(c("new io instance for %s",s),p[u]=a(s,e)),n=p[u]),r.query&&!e.query&&(e.query=r.query),n.socket(r.path,e)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1),s=n(7),a=n(13),c=n(3)("socket.io-client");t.exports=e=r;var p=e.managers={};e.protocol=s.protocol,e.connect=r,e.Manager=n(13),e.Socket=n(37)},function(t,e,n){(function(e){"use strict";function r(t,n){var r=t;n=n||e.location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t="undefined"!=typeof n?n.protocol+"//"+t:"https://"+t),i("parse %s",t),r=o(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var s=r.host.indexOf(":")!==-1,a=s?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}var o=n(2),i=n(3)("socket.io-client:url");t.exports=r}).call(e,function(){return this}())},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");o!=-1&&i!=-1&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var s=n.exec(t||""),a={},c=14;c--;)a[r[c]]=s[c]||"";return o!=-1&&i!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(t,e,n){(function(r){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)}}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(n){}}function c(){var t;try{t=e.storage.debug}catch(n){}return!t&&"undefined"!=typeof r&&"env"in r&&(t=r.env.DEBUG),t}function p(){try{return window.localStorage}catch(t){}}e=t.exports=n(5),e.log=s,e.formatArgs=i,e.save=a,e.load=c,e.useColors=o,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:p(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},e.enable(c())}).call(e,n(4))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function i(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){y&&l&&(y=!1,l.length?d=l.concat(d):m=-1,d.length&&a())}function a(){if(!y){var t=o(s);y=!0;for(var e=d.length;e;){for(l=d,d=[];++m<e;)l&&l[m].run();m=-1,e=d.length}l=null,y=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function p(){}var u,h,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var l,d=[],y=!1,m=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new c(t,e)),1!==d.length||y||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=p,f.addListener=p,f.once=p,f.off=p,f.removeListener=p,f.removeAllListeners=p,f.emit=p,f.prependListener=p,f.prependOnceListener=p,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){function r(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function o(t){function n(){if(n.enabled){var t=n,r=+new Date,o=r-(p||r);t.diff=o,t.prev=p,t.curr=r,p=r;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var a=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;a++;var o=e.formatters[r];if("function"==typeof o){var s=i[a];n=o.call(t,s),i.splice(a,1),a--}return n}),e.formatArgs.call(t,i);var c=n.log||e.log||console.log.bind(console);c.apply(t,i)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=r(t),"function"==typeof e.init&&e.init(n),n}function i(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(t=n[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function s(){e.enable("")}function a(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o["default"]=o,e.coerce=c,e.disable=s,e.enable=i,e.enabled=a,e.humanize=n(6),e.names=[],e.skips=[],e.formatters={};var p},function(t,e){function n(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*p;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(t){return t>=p?Math.round(t/p)+"d":t>=c?Math.round(t/c)+"h":t>=a?Math.round(t/a)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return i(t,p,"day")||i(t,c,"hour")||i(t,a,"minute")||i(t,s,"second")||t+" ms"}function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,a=60*s,c=60*a,p=24*c,u=365.25*p;t.exports=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return n(t);if("number"===i&&isNaN(t)===!1)return e["long"]?o(t):r(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){function r(){}function o(t){var n=""+t.type;return e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data&&(n+=JSON.stringify(t.data)),h("encoded %j as %s",t,n),n}function i(t,e){function n(t){var n=d.deconstructPacket(t),r=o(n.packet),i=n.buffers;i.unshift(r),e(i)}d.removeBlobs(t,n)}function s(){this.reconstructor=null}function a(t){var n=0,r={type:Number(t.charAt(0))};if(null==e.types[r.type])return u();if(e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type){for(var o="";"-"!==t.charAt(++n)&&(o+=t.charAt(n),n!=t.length););if(o!=Number(o)||"-"!==t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===t.charAt(n+1))for(r.nsp="";++n;){var i=t.charAt(n);if(","===i)break;if(r.nsp+=i,n===t.length)break}else r.nsp="/";var s=t.charAt(n+1);if(""!==s&&Number(s)==s){for(r.id="";++n;){var i=t.charAt(n);if(null==i||Number(i)!=i){--n;break}if(r.id+=t.charAt(n),n===t.length)break}r.id=Number(r.id)}return t.charAt(++n)&&(r=c(r,t.substr(n))),h("decoded %s as %j",t,r),r}function c(t,e){try{t.data=JSON.parse(e)}catch(n){return u()}return t}function p(t){this.reconPack=t,this.buffers=[]}function u(){return{type:e.ERROR,data:"parser error"}}var h=n(3)("socket.io-parser"),f=n(8),l=n(9),d=n(11),y=n(12);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=r,e.Decoder=s,r.prototype.encode=function(t,n){if(t.type!==e.EVENT&&t.type!==e.ACK||!l(t.data)||(t.type=t.type===e.EVENT?e.BINARY_EVENT:e.BINARY_ACK),h("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)i(t,n);else{var r=o(t);n([r])}},f(s.prototype),s.prototype.add=function(t){var n;if("string"==typeof t)n=a(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new p(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!y(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,this.emit("decoded",n))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){function r(t){if(t)return o(t)}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){(function(e){function r(t){if(!t||"object"!=typeof t)return!1;if(o(t)){for(var n=0,i=t.length;n<i;n++)if(r(t[n]))return!0;return!1}if("function"==typeof e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(t)||"function"==typeof e.ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return r(t.toJSON(),!0);for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)&&r(t[c]))return!0;return!1}var o=n(10),i=Object.prototype.toString,s="function"==typeof e.Blob||"[object BlobConstructor]"===i.call(e.Blob),a="function"==typeof e.File||"[object FileConstructor]"===i.call(e.File);t.exports=r}).call(e,function(){return this}())},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(t){function r(t,e){if(!t)return t;if(s(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(i(t)){for(var o=new Array(t.length),a=0;a<t.length;a++)o[a]=r(t[a],e);return o}if("object"==typeof t&&!(t instanceof Date)){var o={};for(var c in t)o[c]=r(t[c],e);return o}return t}function o(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(i(t))for(var n=0;n<t.length;n++)t[n]=o(t[n],e);else if("object"==typeof t)for(var r in t)t[r]=o(t[r],e);return t}var i=n(10),s=n(12),a=Object.prototype.toString,c="function"==typeof t.Blob||"[object BlobConstructor]"===a.call(t.Blob),p="function"==typeof t.File||"[object FileConstructor]"===a.call(t.File);e.deconstructPacket=function(t){var e=[],n=t.data,o=t;return o.data=r(n,e),o.attachments=e.length,{packet:o,buffers:e}},e.reconstructPacket=function(t,e){return t.data=o(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){function n(t,a,u){if(!t)return t;if(c&&t instanceof Blob||p&&t instanceof File){r++;var h=new FileReader;h.onload=function(){u?u[a]=this.result:o=this.result,--r||e(o)},h.readAsArrayBuffer(t)}else if(i(t))for(var f=0;f<t.length;f++)n(t[f],f,t);else if("object"==typeof t&&!s(t))for(var l in t)n(t[l],l,t)}var r=0,o=t;n(o),r||e(o)}}).call(e,function(){return this}())},function(t,e){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);t&&"object"===("undefined"==typeof t?"undefined":o(t))&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||c;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=e.autoConnect!==!1,this.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(14),s=n(37),a=n(8),c=n(7),p=n(39),u=n(40),h=n(3)("socket.io-client:manager"),f=n(36),l=n(41),d=Object.prototype.hasOwnProperty;t.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},r.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},r.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},a(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(t,e){if(h("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;h("opening %s",this.uri),this.engine=i(this.uri,this.opts);var n=this.engine,r=this;this.readyState="opening",this.skipReconnect=!1;var o=p(n,"open",function(){r.onopen(),t&&t()}),s=p(n,"error",function(e){if(h("connect_error"),r.cleanup(),r.readyState="closed",r.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;h("connect attempt will timeout after %d",a);var c=setTimeout(function(){h("connect attempt timed out after %d",a),o.destroy(),n.close(),n.emit("error","timeout"),r.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(o),this.subs.push(s),this},r.prototype.onopen=function(){h("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(p(t,"data",u(this,"ondata"))),this.subs.push(p(t,"ping",u(this,"onping"))),this.subs.push(p(t,"pong",u(this,"onpong"))),this.subs.push(p(t,"error",u(this,"onerror"))),this.subs.push(p(t,"close",u(this,"onclose"))),this.subs.push(p(this.decoder,"decoded",u(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit("packet",t)},r.prototype.onerror=function(t){h("error",t),this.emitAll("error",t)},r.prototype.socket=function(t,e){function n(){~f(o.connecting,r)||o.connecting.push(r)}var r=this.nsps[t];if(!r){r=new s(this,t,e),this.nsps[t]=r;var o=this;r.on("connecting",n),r.on("connect",function(){r.id=o.generateId(t)}),this.autoConnect&&n()}return r},r.prototype.destroy=function(t){var e=f(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},r.prototype.packet=function(t){h("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){h("cleanup");for(var t=this.subs.length,e=0;e<t;e++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){h("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(t){h("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();h("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(h("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(h("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(h("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){t.exports=n(15),t.exports.parser=n(22)},function(t,e,n){(function(e){function r(t,n){if(!(this instanceof r))return new r(t,n);n=n||{},t&&"object"==typeof t&&(n=t,t=null),t?(t=u(t),n.hostname=t.host,n.secure="https"===t.protocol||"wss"===t.protocol,n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=u(n.host).host),this.secure=null!=n.secure?n.secure:e.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(e.location?location.hostname:"localhost"),this.port=n.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode;var o="object"==typeof e&&e;o.global===o&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var i=n(16),s=n(8),a=n(3)("engine.io-client:socket"),c=n(36),p=n(22),u=n(2),h=n(30);t.exports=r,r.priorWebsocketSuccess=!1,s(r.prototype),r.protocol=p.protocol,r.Socket=r,r.Transport=n(21),r.transports=n(16),r.parser=n(22),r.prototype.createTransport=function(t){a('creating transport "%s"',t);var e=o(this.query);e.EIO=p.protocol,e.transport=t;var n=this.transportOptions[t]||{};this.id&&(e.sid=this.id);var r=new i[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0});return r},r.prototype.open=function(){var t;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},r.prototype.setTransport=function(t){a("setting transport %s",t.name);var e=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},r.prototype.probe=function(t){function e(){if(f.onlyBinaryUpgrades){var e=!this.supportsBinary&&f.transport.supportsBinary;h=h||e}h||(a('probe transport "%s" opened',t),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(e){if(!h)if("pong"===e.type&&"probe"===e.data){if(a('probe transport "%s" pong',t),f.upgrading=!0,f.emit("upgrading",u),!u)return;r.priorWebsocketSuccess="websocket"===u.name,a('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){h||"closed"!==f.readyState&&(a("changing transport and sending upgrade packet"),p(),f.setTransport(u),u.send([{type:"upgrade"}]),f.emit("upgrade",u),u=null,f.upgrading=!1,f.flush())})}else{a('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=u.name,f.emit("upgradeError",n)}}))}function n(){h||(h=!0,p(),u.close(),u=null)}function o(e){var r=new Error("probe error: "+e);r.transport=u.name,n(),a('probe transport "%s" failed because of error: %s',t,e),f.emit("upgradeError",r)}function i(){o("transport closed")}function s(){o("socket closed")}function c(t){u&&t.name!==u.name&&(a('"%s" works - aborting "%s"',t.name,u.name),n())}function p(){u.removeListener("open",e),u.removeListener("error",o),u.removeListener("close",i),f.removeListener("close",s),f.removeListener("upgrading",c)}a('probing transport "%s"',t);var u=this.createTransport(t,{probe:1}),h=!1,f=this;r.priorWebsocketSuccess=!1,u.once("open",e),u.once("error",o),u.once("close",i),this.once("close",s),this.once("upgrading",c),u.open()},r.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},r.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(a('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else a('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},r.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},r.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},r.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function t(){r.onClose("forced close"),a("socket closing - telling transport to close"),r.transport.close()}function e(){r.removeListener("upgrade",e),r.removeListener("upgradeError",e),t()}function n(){r.once("upgrade",e),r.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},r.prototype.onError=function(t){a("socket error %j",t),r.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},r.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){a('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),n.writeBuffer=[],n.prevBufferLen=0}},r.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~c(this.transports,t[n])&&e.push(t[n]);return e}}).call(e,function(){return this}())},function(t,e,n){(function(t){function r(e){var n,r=!1,a=!1,c=!1!==e.jsonp;if(t.location){var p="https:"===location.protocol,u=location.port;u||(u=p?443:80),r=e.hostname!==location.hostname||u!==e.port,a=e.secure!==p}if(e.xdomain=r,e.xscheme=a,n=new o(e),"open"in n&&!e.forceJSONP)return new i(e);if(!c)throw new Error("JSONP disabled");return new s(e)}var o=n(17),i=n(19),s=n(33),a=n(34);e.polling=r,e.websocket=a}).call(e,function(){return this}())},function(t,e,n){(function(e){var r=n(18);t.exports=function(t){var n=t.xdomain,o=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(s){}if(!n)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP");
}catch(s){}}}).call(e,function(){return this}())},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){t.exports=!1}},function(t,e,n){(function(e){function r(){}function o(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=t.hostname!==e.location.hostname||r!==t.port,this.xs=t.secure!==n}}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var a=n(17),c=n(20),p=n(8),u=n(31),h=n(3)("engine.io-client:polling-xhr");t.exports=o,t.exports.Request=i,u(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new i(t)},o.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),o=this;r.on("success",e),r.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=r},o.prototype.doPoll=function(){h("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},p(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new a(t),r=this;try{h("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}}catch(s){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{n.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState){var t;try{t=n.getResponseHeader("Content-Type")}catch(e){}"application/octet-stream"===t&&(n.responseType="arraybuffer")}4===n.readyState&&(200===n.status||1223===n.status?r.onLoad():setTimeout(function(){r.onError(n.status)},0))},h("xhr data %s",this.data),n.send(this.data)}catch(s){return void setTimeout(function(){r.onError(s)},0)}e.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,t)try{this.xhr.abort()}catch(n){}e.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(n){}t="application/octet-stream"===e?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return"undefined"!=typeof e.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",s):e.addEventListener&&e.addEventListener("beforeunload",s,!1))}).call(e,function(){return this}())},function(t,e,n){function r(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),o.call(this,t)}var o=n(21),i=n(30),s=n(22),a=n(31),c=n(32),p=n(3)("engine.io-client:polling");t.exports=r;var u=function(){var t=n(17),e=new t({xdomain:!1});return null!=e.responseType}();a(r,o),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){p("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(p("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){p("pre-pause polling complete"),--r||e()})),this.writable||(p("we are currently writing - waiting to pause"),r++,this.once("drain",function(){p("pre-pause writing complete"),--r||e()}))}else e()},r.prototype.poll=function(){p("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(t){var e=this;p("polling got data %s",t);var n=function(t,n,r){return"opening"===e.readyState&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():p('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function t(){p("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(p("transport open - closing"),t()):(p("transport not open - deferring close"),this.once("open",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t);var r=this.hostname.indexOf(":")!==-1;return e+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var o=n(22),i=n(8);t.exports=r,i(r.prototype),r.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},r.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,n){(function(t){function r(t,n){var r="b"+e.packets[t.type]+t.data.data;return n(r)}function o(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=v[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return r(s.buffer)}function i(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){t.data=o.result,e.encodePacket(t,n,!0,r)},o.readAsArrayBuffer(t.data)}function s(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(g)return i(t,n,r);var o=new Uint8Array(1);o[0]=v[t.type];var s=new k([o.buffer,t.data]);return r(s)}function a(t){try{t=d.decode(t,{strict:!1})}catch(e){return!1}return t}function c(t,e,n){for(var r=new Array(t.length),o=l(t.length,n),i=function(t,n,o){e(n,function(e,n){r[t]=n,o(e,r)})},s=0;s<t.length;s++)i(s,t[s],o)}var p,u=n(23),h=n(9),f=n(24),l=n(25),d=n(26);t&&t.ArrayBuffer&&(p=n(28));var y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),m="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),g=y||m;e.protocol=3;var v=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=u(v),w={type:"error",data:"parser error"},k=n(29);e.encodePacket=function(e,n,i,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof i&&(a=i,i=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return o(e,n,a);if(k&&c instanceof t.Blob)return s(e,n,a);if(c&&c.base64)return r(e,a);var p=v[e.type];return void 0!==e.data&&(p+=i?d.encode(String(e.data),{strict:!1}):String(e.data)),a(""+p)},e.encodeBase64Packet=function(n,r){var o="b"+e.packets[n.type];if(k&&n.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];r(o+t)},i.readAsDataURL(n.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(a){for(var c=new Uint8Array(n.data),p=new Array(c.length),u=0;u<c.length;u++)p[u]=c[u];s=String.fromCharCode.apply(null,p)}return o+=t.btoa(s),r(o)},e.decodePacket=function(t,n,r){if(void 0===t)return w;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&(t=a(t),t===!1))return w;var o=t.charAt(0);return Number(o)==o&&b[o]?t.length>1?{type:b[o],data:t.substring(1)}:{type:b[o]}:w}var i=new Uint8Array(t),o=i[0],s=f(t,1);return k&&"blob"===n&&(s=new k([s])),{type:b[o],data:s}},e.decodeBase64Packet=function(t,e){var n=b[t.charAt(0)];if(!p)return{type:n,data:{base64:!0,data:t.substr(1)}};var r=p.decode(t.substr(1));return"blob"===e&&k&&(r=new k([r])),{type:n,data:r}},e.encodePayload=function(t,n,r){function o(t){return t.length+":"+t}function i(t,r){e.encodePacket(t,!!s&&n,!1,function(t){r(null,o(t))})}"function"==typeof n&&(r=n,n=null);var s=h(t);return n&&s?k&&!g?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r):t.length?void c(t,i,function(t,e){return r(e.join(""))}):r("0:")},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);"function"==typeof n&&(r=n,n=null);var o;if(""===t)return r(w,0,1);for(var i,s,a="",c=0,p=t.length;c<p;c++){var u=t.charAt(c);if(":"===u){if(""===a||a!=(i=Number(a)))return r(w,0,1);if(s=t.substr(c+1,i),a!=s.length)return r(w,0,1);if(s.length){if(o=e.decodePacket(s,n,!1),w.type===o.type&&w.data===o.data)return r(w,0,1);var h=r(o,c+i,p);if(!1===h)return}c+=i,a=""}else a+=u}return""!==a?r(w,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){function r(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})}return t.length?void c(t,r,function(t,e){var r=e.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),o=new Uint8Array(r),i=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),s=0;s<t.length;s++)r[s]=t.charCodeAt(s);n=r.buffer}e?o[i++]=0:o[i++]=1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)o[i++]=r[s]}),n(o.buffer)}):n(new ArrayBuffer(0))},e.encodePayloadAsBlob=function(t,n){function r(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,e[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,k){var c=new k([e.buffer,a.buffer,t]);n(null,c)}})}c(t,r,function(t,e){return n(new k(e))})},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var o=t,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),a=0===s[0],c="",p=1;255!==s[p];p++){if(c.length>310)return r(w,0,1);c+=s[p]}o=f(o,2+c.length),c=parseInt(c);var u=f(o,0,c);if(a)try{u=String.fromCharCode.apply(null,new Uint8Array(u))}catch(h){var l=new Uint8Array(u);u="";for(var p=0;p<l.length;p++)u+=String.fromCharCode(l[p])}i.push(u),o=f(o,c)}var d=i.length;i.forEach(function(t,o){r(e.decodePacket(t,n,!0),o,d)})}}).call(e,function(){return this}())},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(n-e),s=e,a=0;s<n;s++,a++)i[a]=o[s];return i.buffer}},function(t,e){function n(t,e,n){function o(t,r){if(o.count<=0)throw new Error("after called too many times");--o.count,t?(i=!0,e(t),e=n):0!==o.count||i||e(null,r)}var i=!1;return n=n||r,o.count=t,0===t?e():o}function r(){}t.exports=n},function(t,e,n){var r;(function(t,o){!function(i){function s(t){for(var e,n,r=[],o=0,i=t.length;o<i;)e=t.charCodeAt(o++),e>=55296&&e<=56319&&o<i?(n=t.charCodeAt(o++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--)):r.push(e);return r}function a(t){for(var e,n=t.length,r=-1,o="";++r<n;)e=t[r],e>65535&&(e-=65536,o+=w(e>>>10&1023|55296),e=56320|1023&e),o+=w(e);return o}function c(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function p(t,e){return w(t>>e&63|128)}function u(t,e){if(0==(4294967168&t))return w(t);var n="";return 0==(4294965248&t)?n=w(t>>6&31|192):0==(4294901760&t)?(c(t,e)||(t=65533),n=w(t>>12&15|224),n+=p(t,6)):0==(4292870144&t)&&(n=w(t>>18&7|240),n+=p(t,12),n+=p(t,6)),n+=w(63&t|128)}function h(t,e){e=e||{};for(var n,r=!1!==e.strict,o=s(t),i=o.length,a=-1,c="";++a<i;)n=o[a],c+=u(n,r);return c}function f(){if(b>=v)throw Error("Invalid byte index");var t=255&g[b];if(b++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function l(t){var e,n,r,o,i;if(b>v)throw Error("Invalid byte index");if(b==v)return!1;if(e=255&g[b],b++,0==(128&e))return e;if(192==(224&e)){if(n=f(),i=(31&e)<<6|n,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(n=f(),r=f(),i=(15&e)<<12|n<<6|r,i>=2048)return c(i,t)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=f(),r=f(),o=f(),i=(7&e)<<18|n<<12|r<<6|o,i>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}function d(t,e){e=e||{};var n=!1!==e.strict;g=s(t),v=g.length,b=0;for(var r,o=[];(r=l(n))!==!1;)o.push(r);return a(o)}var y="object"==typeof e&&e,m=("object"==typeof t&&t&&t.exports==y&&t,"object"==typeof o&&o);m.global!==m&&m.window!==m||(i=m);var g,v,b,w=String.fromCharCode,k={version:"2.1.2",encode:h,decode:d};r=function(){return k}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(27)(t),function(){return this}())},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i="";for(n=0;n<o;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e,r,o,i,s,a=.75*t.length,c=t.length,p=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(e=0;e<c;e+=4)r=n[t.charCodeAt(e)],o=n[t.charCodeAt(e+1)],i=n[t.charCodeAt(e+2)],s=n[t.charCodeAt(e+3)],h[p++]=r<<2|o>>4,h[p++]=(15&o)<<4|i>>2,h[p++]=(3&i)<<6|63&s;return u}}()},function(t,e){(function(e){function n(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}t[e]=r}}}function r(t,e){e=e||{};var r=new i;n(t);for(var o=0;o<t.length;o++)r.append(t[o]);return e.type?r.getBlob(e.type):r.getBlob()}function o(t,e){return n(t),new Blob(t,e||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,s=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(e){return!1}}(),a=s&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return s?a?e.Blob:o:c?r:void 0}()}).call(e,function(){return this}())},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){"use strict";function n(t){var e="";do e=s[t%a]+e,t=Math.floor(t/a);while(t>0);return e}function r(t){var e=0;for(u=0;u<t.length;u++)e=e*a+c[t.charAt(u)];return e}function o(){var t=n(+new Date);return t!==i?(p=0,i=t):t+"."+n(p++)}for(var i,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,c={},p=0,u=0;u<a;u++)c[s[u]]=u;o.encode=n,o.decode=r,t.exports=o},function(t,e,n){(function(e){function r(){}function o(t){i.call(this,t),this.query=this.query||{},a||(e.___eio||(e.___eio=[]),a=e.___eio),this.index=a.length;var n=this;a.push(function(t){n.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=r)},!1)}var i=n(20),s=n(31);t.exports=o;var a,c=/\n/g,p=/\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(e)}catch(t){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),a=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=u,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),r(),t=t.replace(p,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&n()}:this.iframe.onload=n}}).call(e,function(){return this}())},function(t,e,n){(function(e){function r(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=h&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(l=o),i.call(this,t)}var o,i=n(21),s=n(22),a=n(30),c=n(31),p=n(32),u=n(3)("engine.io-client:websocket"),h=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{o=n(35)}catch(f){}var l=h;l||"undefined"!=typeof window||(l=o),t.exports=r,c(r,i),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new l(t,e):new l(t):new l(t,e,n)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},r.prototype.write=function(t){function n(){r.emit("flush"),setTimeout(function(){r.writable=!0,r.emit("drain")},0)}var r=this;this.writable=!1;for(var o=t.length,i=0,a=o;i<a;i++)!function(t){s.encodePacket(t,r.supportsBinary,function(i){if(!r.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),r.perMessageDeflate){var a="string"==typeof i?e.Buffer.byteLength(i):i.length;a<r.perMessageDeflate.threshold&&(s.compress=!1)}}try{r.usingBrowserWebSocket?r.ws.send(i):r.ws.send(i,s)}catch(c){u("websocket closed before onclose event")}--o||n()})}(t[i])},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=p()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t);var r=this.hostname.indexOf(":")!==-1;return e+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+t},r.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===r.prototype.name)}}).call(e,function(){return this}())},function(t,e){},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){"use strict";function r(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(7),s=n(8),a=n(38),c=n(39),p=n(40),u=n(3)("socket.io-client:socket"),h=n(30);t.exports=e=r;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},l=s.prototype.emit;s(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[c(t,"open",p(this,"onopen")),c(t,"packet",p(this,"onpacket")),c(t,"close",p(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},r.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},r.prototype.emit=function(t){if(f.hasOwnProperty(t))return l.apply(this,arguments),this;var e=a(arguments),n={type:i.EVENT,data:e};return n.options={},n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),delete this.flags,this},r.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},r.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"===o(this.query)?h.encode(this.query):this.query;u("sending connect packet with query %s",t),this.packet({type:i.CONNECT,query:t})}else this.packet({type:i.CONNECT})},r.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},r.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(t);break;case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:this.onack(t);break;case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},r.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?l.apply(this,e):this.receiveBuffer.push(e)},r.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);u("sending ack %j",r),e.packet({type:i.ACK,id:t,data:r})}}},r.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)l.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e){function n(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}t.exports=n},function(t,e){"use strict";function n(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}t.exports=n},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}}])});

},{}],5:[function(require,module,exports){
'use strict';

var events = {
  NEW_MESSAGE: '[client emits] new message',
  SEND_MESSAGE: '[server emits] send message',
  SEND_USERNAMES: '[server emit] usernames',
  NEW_USER: '[client emits] new user',
  DISCONNECT: 'disconnect'
};

module.exports = events;

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvanMvYXBwLmpzIiwiYXBwL2pzL21vZHVsZXMvY2hhdC5qcyIsImFwcC9qcy9tb2R1bGVzL2h3LmpzIiwibm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvZGlzdC9zb2NrZXQuaW8uanMiLCJzZXJ2ZXIvZXZlbnRzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTs7QUFDQTs7QUFFQSxRQUFRLEdBQVI7O0FBRUEsT0FBTyxDQUFQLEdBQVcsU0FBUyxhQUFULENBQXVCLElBQXZCLENBQTRCLFFBQTVCLENBQVg7O0FBRUEsSUFBTSxVQUFVO0FBQ2QsWUFBVSxFQUFFLE9BQUYsQ0FESTtBQUVkLFlBQVUsRUFBRSxZQUFGLENBRkk7QUFHZCxTQUFPLEVBQUUsYUFBRixDQUhPO0FBSWQsZUFBYSxFQUFFLGVBQUYsQ0FKQztBQUtkLGNBQVksRUFBRSxjQUFGLENBTEU7QUFNZCxpQkFBZSxFQUFFLGtCQUFGLENBTkQ7QUFPZCxZQUFVLEVBQUUsV0FBRixDQVBJO0FBUWQsU0FBTyxFQUFFLFFBQUY7QUFSTyxDQUFoQjs7QUFXQSxJQUFNLFdBQVcsc0JBQWdCLE9BQWhCLENBQWpCOzs7Ozs7Ozs7Ozs7QUNsQkE7Ozs7QUFDQTs7Ozs7Ozs7QUFFQSxJQUFNLFVBQVUsNEJBQWhCOztJQUVhLFcsV0FBQSxXO0FBRVgsdUJBQVksT0FBWixFQUFvQjtBQUFBOztBQUNsQixTQUFLLEtBQUwsR0FBYSxRQUFRLEtBQXJCO0FBQ0EsU0FBSyxVQUFMLEdBQWtCLFFBQVEsVUFBMUI7QUFDQSxTQUFLLFdBQUwsR0FBbUIsUUFBUSxXQUEzQjtBQUNBLFNBQUssUUFBTCxHQUFnQixRQUFRLFFBQXhCO0FBQ0EsU0FBSyxRQUFMLEdBQWdCLFFBQVEsUUFBeEI7QUFDQSxTQUFLLGFBQUwsR0FBcUIsUUFBUSxhQUE3QjtBQUNBLFNBQUssUUFBTCxHQUFnQixRQUFRLFFBQXhCO0FBQ0EsU0FBSyxLQUFMLEdBQWEsUUFBUSxLQUFyQjs7QUFFQSxTQUFLLGdCQUFMOztBQUVBOztBQUVBO0FBQ0EsU0FBSyxNQUFMLEdBQWMsaUJBQUcsT0FBSCxDQUFXLHlCQUFYLENBQWQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBLFNBQUssTUFBTDtBQUNEOztBQUdEOzs7Ozs7Ozs7K0JBS1csSSxFQUFNO0FBQUE7O0FBQ2YsVUFBSSxNQUFNLElBQUksY0FBSixFQUFWO0FBQ0EsVUFBSSxJQUFKLENBQVMsS0FBVCxFQUFnQixLQUFLLEdBQXJCLEVBQTBCLElBQTFCO0FBQ0EsVUFBSSxZQUFKLEdBQW1CLE1BQW5CO0FBQ0EsVUFBSSxNQUFKLEdBQWEsVUFBQyxDQUFELEVBQU87QUFDbEIsWUFBSSxNQUFNLE9BQU8sR0FBUCxDQUFXLGVBQVgsQ0FBMkIsSUFBSSxRQUEvQixDQUFWO0FBQ0EsWUFBSSxhQUFhLFNBQVMsYUFBVCxDQUF1QixjQUF2QixDQUFqQjtBQUNBLG1CQUFXLGtCQUFYLENBQThCLFdBQTlCLEVBQTJDLE1BQUssV0FBTCxDQUFpQixJQUFqQixFQUF1QixHQUF2QixDQUEzQzs7QUFFQTtBQUNBLG1CQUFXLFNBQVgsR0FBdUIsTUFBSyxVQUFMLENBQWdCLFlBQXZDO0FBQ0QsT0FQRDs7QUFTQSxVQUFJLElBQUo7QUFDRDs7QUFFRDs7Ozs7Ozs7NkJBS1MsSyxFQUFPO0FBQUE7O0FBQ2QsWUFBTSxPQUFOLENBQWMsVUFBQyxJQUFELEVBQVU7QUFDdEIsZUFBSyxXQUFMLENBQWlCLGtCQUFqQixDQUFvQyxXQUFwQyxFQUFpRCxPQUFLLFlBQUwsQ0FBa0IsSUFBbEIsQ0FBakQ7QUFDRCxPQUZEO0FBR0Q7O0FBR0Q7Ozs7Ozs7K0JBSVc7QUFDVCxRQUFFLFlBQUYsRUFBZ0IsS0FBaEIsQ0FBc0IsT0FBdEIsR0FBZ0MsTUFBaEM7QUFDQSxRQUFFLE9BQUYsRUFBVyxLQUFYLENBQWlCLE9BQWpCLEdBQTJCLE1BQTNCO0FBQ0Q7O0FBR0Q7Ozs7Ozs7cUNBSWlCO0FBQUE7O0FBQ2Y7QUFDQSxhQUFPLE1BQVMsT0FBVCxtQkFDTixJQURNLENBQ0QsVUFBQyxJQUFEO0FBQUEsZUFBVSxLQUFLLElBQUwsRUFBVjtBQUFBLE9BREMsRUFFTixJQUZNLENBRUQsVUFBQyxJQUFELEVBQVU7QUFDZCxlQUFLLGdCQUFMLEdBQXdCLEtBQUssT0FBTCxDQUFhLENBQWIsRUFBZ0IsT0FBaEIsQ0FBd0IsS0FBaEQ7QUFDQSxZQUFJLE1BQU0sSUFBSSxjQUFKLEVBQVY7QUFDQSxZQUFJLElBQUosQ0FBUyxLQUFULEVBQWdCLEtBQUssT0FBTCxDQUFhLENBQWIsRUFBZ0IsT0FBaEIsQ0FBd0IsS0FBeEMsRUFBK0MsSUFBL0M7QUFDQSxZQUFJLFlBQUosR0FBbUIsTUFBbkI7QUFDQSxZQUFJLE1BQUosR0FBYSxVQUFTLENBQVQsRUFBWTtBQUN2QixtQkFBUyxhQUFULENBQXVCLGtCQUF2QixFQUEyQyxHQUEzQyxHQUFpRCxPQUFPLEdBQVAsQ0FBVyxlQUFYLENBQTJCLEtBQUssUUFBaEMsQ0FBakQ7QUFDRCxTQUZEOztBQUlBLFlBQUksSUFBSjtBQUNELE9BWk0sQ0FBUDtBQWFEOztBQUVEOzs7Ozs7O2dDQUlZLEksRUFBTSxHLEVBQUs7QUFDckIsd0ZBRTBDLEdBRjFDLHFFQUlVLEtBQUssUUFKZiw2QkFJK0MsS0FBSyxJQUpwRCwrQkFLTSxLQUFLLEdBTFg7QUFTRDs7QUFHRDs7Ozs7OztpQ0FJYSxJLEVBQU07QUFDakIsOEZBR1ksSUFIWjtBQU9EOztBQUdEOzs7Ozs7OzJDQUl1QjtBQUFBOztBQUNyQixXQUFLLE1BQUwsQ0FBWSxFQUFaLENBQWUsaUJBQU8sV0FBdEIsRUFBbUMsVUFBQyxJQUFELEVBQVU7QUFDM0MsZUFBSyxVQUFMLENBQWdCLElBQWhCO0FBQ0QsT0FGRDs7QUFJQSxXQUFLLE1BQUwsQ0FBWSxFQUFaLENBQWUsaUJBQU8sY0FBdEIsRUFBc0MsVUFBQyxTQUFELEVBQWU7QUFDbkQsZUFBSyxRQUFMLENBQWMsU0FBZDtBQUNELE9BRkQ7QUFHRDs7QUFJRDs7Ozs7OzswQ0FJc0I7QUFBQTs7QUFFcEI7QUFDQSxXQUFLLFFBQUwsQ0FBYyxnQkFBZCxDQUErQixRQUEvQixFQUF5QyxVQUFDLENBQUQsRUFBTTtBQUM3QyxVQUFFLGNBQUY7O0FBRUE7QUFDQSxlQUFLLE1BQUwsQ0FBWSxJQUFaLENBQWlCLGlCQUFPLFFBQXhCLEVBQWtDLE9BQUssUUFBTCxDQUFjLEtBQWhELEVBQXVELFVBQUMsTUFBRCxFQUFZO0FBQ2pFLGlCQUFLLEtBQUwsQ0FBVyxLQUFYLENBQWlCLE9BQWpCLEdBQTJCLE1BQTNCO0FBQ0EsY0FBRyxNQUFILEVBQVU7QUFDUixtQkFBSyxRQUFMO0FBQ0QsV0FGRCxNQUVPO0FBQ0wsbUJBQUssS0FBTCxDQUFXLFNBQVgsR0FBdUIsZ0NBQXZCO0FBQ0EsbUJBQUssS0FBTCxDQUFXLEtBQVgsQ0FBaUIsT0FBakIsR0FBMkIsT0FBM0I7QUFDRDtBQUNGLFNBUkQ7QUFTRCxPQWJEOztBQWdCQTtBQUNBLFdBQUssUUFBTCxDQUFjLGdCQUFkLENBQStCLFFBQS9CLEVBQXlDLFVBQUMsQ0FBRCxFQUFNO0FBQzdDLFVBQUUsY0FBRjs7QUFFQSxlQUFLLE1BQUwsQ0FBWSxJQUFaLENBQWlCLGlCQUFPLFlBQXhCLEVBQXNDO0FBQ3BDLGVBQUssT0FBSyxLQUFMLENBQVcsS0FEb0I7QUFFcEMsZUFBSyxPQUFLO0FBRjBCLFNBQXRDOztBQUtBLGVBQUssS0FBTCxDQUFXLEtBQVgsR0FBbUIsRUFBbkI7QUFDRCxPQVREO0FBVUQ7O0FBR0Q7Ozs7Ozs7NkJBSVM7QUFDUDtBQUNBLFdBQUssb0JBQUw7O0FBRUE7QUFDQSxXQUFLLG1CQUFMOztBQUVBO0FBQ0EsV0FBSyxjQUFMO0FBQ0Q7Ozs7Ozs7Ozs7OztBQ2xNSSxJQUFNLG9DQUFjLGNBQXBCOzs7QUNBUDtBQUNBO0FBQ0E7Ozs7QUNGQSxJQUFNLFNBQVM7QUFDYixlQUFjLDRCQUREO0FBRWIsZ0JBQWUsNkJBRkY7QUFHYixrQkFBZ0IseUJBSEg7QUFJYixZQUFVLHlCQUpHO0FBS2IsY0FBYTtBQUxBLENBQWY7O0FBUUEsT0FBTyxPQUFQLEdBQWlCLE1BQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7IEhFTExPX1dPUkxEIH0gZnJvbSAnLi9tb2R1bGVzL2h3JztcbmltcG9ydCB7IENoYXRTZXJ2aWNlIH0gZnJvbSAnLi9tb2R1bGVzL2NoYXQnO1xuXG5jb25zb2xlLmxvZyhgSnVzdCB3YW50IHRvIHNheSwgJHtIRUxMT19XT1JMRH1gKTtcblxud2luZG93LiQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yLmJpbmQoZG9jdW1lbnQpO1xuXG5jb25zdCBvcHRpb25zID0ge1xuICBqb2luRm9ybTogJCgnI2pvaW4nKSxcbiAgY2hhdEZvcm06ICQoJyNjaGF0LWZvcm0nKSxcbiAgaW5wdXQ6ICQoJyNjaGF0LWlucHV0JyksXG4gIHVzZXJzT3V0bGV0OiAkKCcjdXNlcnMtb3V0bGV0JyksXG4gIGNoYXRPdXRsZXQ6ICQoJyNjaGF0LW91dGxldCcpLFxuICByYW5kb21Vc2VySW1nOiAkKCcjcmFuZG9tLXVzZXItaW1nJyksXG4gIHVzZXJuYW1lOiAkKCcjdXNlcm5hbWUnKSxcbiAgZXJyb3I6ICQoJyNlcnJvcicpXG59XG5cbmNvbnN0IERvam9DaGF0ID0gbmV3IENoYXRTZXJ2aWNlKG9wdGlvbnMpO1xuXG4iLCJpbXBvcnQgaW8gZnJvbSAnLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvZGlzdC9zb2NrZXQuaW8nO1xuaW1wb3J0IEVWRU5UUyBmcm9tICcuLi8uLi8uLi9zZXJ2ZXIvZXZlbnRzJztcblxuY29uc3QgQVBJX1VSTCA9ICdodHRwczovL3JhbmRvbXVzZXIubWUvYXBpLyc7XG5cbmV4cG9ydCBjbGFzcyBDaGF0U2VydmljZSB7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucyl7XG4gICAgdGhpcy5pbnB1dCA9IG9wdGlvbnMuaW5wdXQ7XG4gICAgdGhpcy5jaGF0T3V0bGV0ID0gb3B0aW9ucy5jaGF0T3V0bGV0O1xuICAgIHRoaXMudXNlcnNPdXRsZXQgPSBvcHRpb25zLnVzZXJzT3V0bGV0O1xuICAgIHRoaXMuY2hhdEZvcm0gPSBvcHRpb25zLmNoYXRGb3JtO1xuICAgIHRoaXMuam9pbkZvcm0gPSBvcHRpb25zLmpvaW5Gb3JtO1xuICAgIHRoaXMucmFuZG9tVXNlckltZyA9IG9wdGlvbnMucmFuZG9tVXNlckltZztcbiAgICB0aGlzLnVzZXJuYW1lID0gb3B0aW9ucy51c2VybmFtZTtcbiAgICB0aGlzLmVycm9yID0gb3B0aW9ucy5lcnJvcjtcblxuICAgIHRoaXMucmFuZG9tVXNlckltZ1VybDtcblxuICAgIC8qKiBVbi1jb21tZW50IGlmIHJ1bm5pbmcgYXMgYSBzdGFuZGFsb25lIHNlcnZpY2UgKi9cbiAgICBcbiAgICAvLyBVUERBVEUgSUYgSVAgQ0hBTkdFUyEhISEhISEhISEhISEhIVxuICAgIHRoaXMuc29ja2V0ID0gaW8uY29ubmVjdCgnaHR0cDovL3RpY2tsZW15Y29kZS5pby8nKTtcbiAgICBcbiAgICAvKiogU1RBUlQgZm9yIEV4cHJlc3MgU2VydmVyICovXG4gICAgLy8gdGhpcy5zb2NrZXQgPSBpbygpO1xuICAgIC8qKiBFTkQgZm9yIEV4cHJlc3MgU2VydmVyICovXG5cbiAgICB0aGlzLm9uSW5pdCgpO1xuICB9XG5cblxuICAvKipcbiAgICogYWRkTWVzc2FnZVxuICAgKiBBZGRzIGNoYXQgbWVzc2FnZSB0byBjaGF0IG91dGxldFxuICAgKiBAcGFyYW0ge3ttc2c6c3RyaW5nLGltZzpzdHJpbmcsdGltZTpzdHJpbmcsdXNlcm5hbWU6c3RyaW5nfX0gZGF0YTogXG4gICAqL1xuICBhZGRNZXNzYWdlKGRhdGEpIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9wZW4oJ0dFVCcsIGRhdGEuaW1nLCB0cnVlKTtcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xuICAgIHhoci5vbmxvYWQgPSAoZSkgPT4ge1xuICAgICAgbGV0IGltZyA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKHhoci5yZXNwb25zZSk7XG4gICAgICBsZXQgY2hhdFdpbmRvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjaGF0LW91dGxldCcpO1xuICAgICAgY2hhdFdpbmRvdy5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIHRoaXMubXNnVGVtcGxhdGUoZGF0YSwgaW1nKSk7XG4gICAgXG4gICAgICAvLyBzY3JvbGwgdG8gYm90dG9tIG9mIGNoYXQgd2luZG93XG4gICAgICBjaGF0V2luZG93LnNjcm9sbFRvcCA9IHRoaXMuY2hhdE91dGxldC5zY3JvbGxIZWlnaHQ7XG4gICAgfTtcblxuICAgIHhoci5zZW5kKCk7XG4gIH1cblxuICAvKipcbiAgICogYWRkVXNlcnNcbiAgICogQWRkcyB1c2VycyB0byBhY3RpdmUgdXNlcnMgb3V0bGV0XG4gICAqIEBwYXJhbSB7W119IHVzZXJzIFxuICAgKi9cbiAgYWRkVXNlcnModXNlcnMpIHtcbiAgICB1c2Vycy5mb3JFYWNoKCh1c2VyKSA9PiB7XG4gICAgICB0aGlzLnVzZXJzT3V0bGV0Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgdGhpcy51c2VyVGVtcGxhdGUodXNlcikpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICogc2hvd0NoYXRcbiAgICogc2hvdyBjaGF0IGFyZWEgYW5kIGhpZ2ggam9pbiBmb3JtXG4gICAqL1xuICBzaG93Q2hhdCgpIHtcbiAgICAkKCcjam9pbi1jaGF0Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAkKCcjY2hhdCcpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBzZXRSYW5kb21JbWFnZVxuICAgKiBGZXRjaGVzIHJhbmRvbSBpbWFnZSBmb3IgdXNlclxuICAgKi9cbiAgc2V0UmFuZG9tSW1hZ2UoKSB7ICAgIFxuICAgIC8vIFRPRE86IGNob29zZSBnZW5kZXIgYCZnZW5kZXI9PG1hbGV8ZmVtYWxlPmBcbiAgICByZXR1cm4gZmV0Y2goYCR7QVBJX1VSTH0/aW5jPXBpY3R1cmVgKVxuICAgIC50aGVuKChyZXNwKSA9PiByZXNwLmpzb24oKSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgdGhpcy5yYW5kb21Vc2VySW1nVXJsID0gZGF0YS5yZXN1bHRzWzBdLnBpY3R1cmUubGFyZ2U7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICB4aHIub3BlbignR0VUJywgZGF0YS5yZXN1bHRzWzBdLnBpY3R1cmUubGFyZ2UsIHRydWUpO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyYW5kb20tdXNlci1pbWcnKS5zcmMgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLnJlc3BvbnNlKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5zZW5kKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogbXNnVGVtcGxhdGVcbiAgICogQHBhcmFtIHt7aW1nOnN0cmluZyx1c2VybmFtZTpzdHJpbmcsdGltZTpzdHJpbmcsbXNnOnN0cmluZ319IGRhdGEgXG4gICAqL1xuICBtc2dUZW1wbGF0ZShkYXRhLCBpbWcpIHtcbiAgICByZXR1cm4gYFxuICAgIDxsaSBjbGFzcz1cIm1lZGlhXCI+XG4gICAgICA8aW1nIGNsYXNzPVwibXItMyByb3VuZGVkLWNpcmNsZVwiIHNyYz1cIiR7aW1nfVwiIGFsdD1cIlBlcnNvblwiPlxuICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHlcIj5cbiAgICAgICAgPGg2PiR7ZGF0YS51c2VybmFtZX0gPHNtYWxsIGNsYXNzPVwidGltZVwiPiR7ZGF0YS50aW1lfTwvc21hbGw+PC9oNj5cbiAgICAgICAgJHtkYXRhLm1zZ31cbiAgICAgIDwvZGl2PlxuICAgIDwvbGk+XG4gICAgYDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIHVzZXJUZW1wbGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXNlciBcbiAgICovXG4gIHVzZXJUZW1wbGF0ZSh1c2VyKSB7XG4gICAgcmV0dXJuIGBcbiAgICAgIDxsaSBjbGFzcz1cIm1lZGlhXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgPGg2PiR7dXNlcn08L2g2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbGk+XG4gICAgYDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIHNvY2tldEV2ZW50TGlzdGVuZXJzXG4gICAqIExpc3RlbnMgZm9yIGVtaXR0ZWQgZXZlbnRzIGZyb20gc2VydmVyIChzb2NrZXQpXG4gICAqL1xuICBzb2NrZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLnNvY2tldC5vbihFVkVOVFMuTkVXX01FU1NBR0UsIChkYXRhKSA9PiB7XG4gICAgICB0aGlzLmFkZE1lc3NhZ2UoZGF0YSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNvY2tldC5vbihFVkVOVFMuU0VORF9VU0VSTkFNRVMsICh1c2VybmFtZXMpID0+IHtcbiAgICAgIHRoaXMuYWRkVXNlcnModXNlcm5hbWVzKTtcbiAgICB9KTtcbiAgfVxuXG5cblxuICAvKipcbiAgICogc29ja2V0RXZlbnRFbWl0dGVyc1xuICAgKiBFbWl0cyBldmVudHMgdG8gc2VydmVyIChzb2NrZXQpXG4gICAqL1xuICBzb2NrZXRFdmVudEVtaXR0ZXJzKCkge1xuXG4gICAgLy8gc3VibWl0dGluZyBqb2luIGZvcm1cbiAgICB0aGlzLmpvaW5Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKT0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgLy8gd2l0aCBhY2tub3dsZWRnZW1lbnQgY2FsbGJhY2tcbiAgICAgIHRoaXMuc29ja2V0LmVtaXQoRVZFTlRTLk5FV19VU0VSLCB0aGlzLnVzZXJuYW1lLnZhbHVlLCAoY2JEYXRhKSA9PiB7XG4gICAgICAgIHRoaXMuZXJyb3Iuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgaWYoY2JEYXRhKXtcbiAgICAgICAgICB0aGlzLnNob3dDaGF0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lcnJvci5pbm5lckhUTUwgPSAnVXNlcm5hbWUgYWxyZWFkeSB0YWtlLi4uIHNvd3d5JztcbiAgICAgICAgICB0aGlzLmVycm9yLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuXG4gICAgLy8gc3VibWl0dGluZyBjaGF0IGZvcm1cbiAgICB0aGlzLmNoYXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKT0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIFxuICAgICAgdGhpcy5zb2NrZXQuZW1pdChFVkVOVFMuU0VORF9NRVNTQUdFLCB7XG4gICAgICAgIG1zZzogdGhpcy5pbnB1dC52YWx1ZSxcbiAgICAgICAgaW1nOiB0aGlzLnJhbmRvbVVzZXJJbWdVcmxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmlucHV0LnZhbHVlID0gJyc7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBvbkluaXRcbiAgICogSW5pdGlhbGl6ZSBjaGF0IHNlcnZpY2VcbiAgICovXG4gIG9uSW5pdCgpIHtcbiAgICAvLyBldmVudHMgZnJvbSBzZXJ2ZXJcbiAgICB0aGlzLnNvY2tldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICAvLyBldmVudHMgdG8gc2VydmVyXG4gICAgdGhpcy5zb2NrZXRFdmVudEVtaXR0ZXJzKCk7XG5cbiAgICAvLyBzZXQgcmFuZG9tIGltYWdlXG4gICAgdGhpcy5zZXRSYW5kb21JbWFnZSgpO1xuICB9XG59IiwiZXhwb3J0IGNvbnN0IEhFTExPX1dPUkxEID0gJ0hlbGxvIFdvcmxkISc7IiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5pbz1lKCk6dC5pbz1lKCl9KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIG89bltyXT17ZXhwb3J0czp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIHRbcl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsZSksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciBuPXt9O3JldHVybiBlLm09dCxlLmM9bixlLnA9XCJcIixlKDApfShbZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6byh0KSkmJihlPXQsdD12b2lkIDApLGU9ZXx8e307dmFyIG4scj1pKHQpLHM9ci5zb3VyY2UsdT1yLmlkLGg9ci5wYXRoLGY9cFt1XSYmaCBpbiBwW3VdLm5zcHMsbD1lLmZvcmNlTmV3fHxlW1wiZm9yY2UgbmV3IGNvbm5lY3Rpb25cIl18fCExPT09ZS5tdWx0aXBsZXh8fGY7cmV0dXJuIGw/KGMoXCJpZ25vcmluZyBzb2NrZXQgY2FjaGUgZm9yICVzXCIscyksbj1hKHMsZSkpOihwW3VdfHwoYyhcIm5ldyBpbyBpbnN0YW5jZSBmb3IgJXNcIixzKSxwW3VdPWEocyxlKSksbj1wW3VdKSxyLnF1ZXJ5JiYhZS5xdWVyeSYmKGUucXVlcnk9ci5xdWVyeSksbi5zb2NrZXQoci5wYXRoLGUpfXZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LGk9bigxKSxzPW4oNyksYT1uKDEzKSxjPW4oMykoXCJzb2NrZXQuaW8tY2xpZW50XCIpO3QuZXhwb3J0cz1lPXI7dmFyIHA9ZS5tYW5hZ2Vycz17fTtlLnByb3RvY29sPXMucHJvdG9jb2wsZS5jb25uZWN0PXIsZS5NYW5hZ2VyPW4oMTMpLGUuU29ja2V0PW4oMzcpfSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxuKXt2YXIgcj10O249bnx8ZS5sb2NhdGlvbixudWxsPT10JiYodD1uLnByb3RvY29sK1wiLy9cIituLmhvc3QpLFwic3RyaW5nXCI9PXR5cGVvZiB0JiYoXCIvXCI9PT10LmNoYXJBdCgwKSYmKHQ9XCIvXCI9PT10LmNoYXJBdCgxKT9uLnByb3RvY29sK3Q6bi5ob3N0K3QpLC9eKGh0dHBzP3x3c3M/KTpcXC9cXC8vLnRlc3QodCl8fChpKFwicHJvdG9jb2wtbGVzcyB1cmwgJXNcIix0KSx0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuP24ucHJvdG9jb2wrXCIvL1wiK3Q6XCJodHRwczovL1wiK3QpLGkoXCJwYXJzZSAlc1wiLHQpLHI9byh0KSksci5wb3J0fHwoL14oaHR0cHx3cykkLy50ZXN0KHIucHJvdG9jb2wpP3IucG9ydD1cIjgwXCI6L14oaHR0cHx3cylzJC8udGVzdChyLnByb3RvY29sKSYmKHIucG9ydD1cIjQ0M1wiKSksci5wYXRoPXIucGF0aHx8XCIvXCI7dmFyIHM9ci5ob3N0LmluZGV4T2YoXCI6XCIpIT09LTEsYT1zP1wiW1wiK3IuaG9zdCtcIl1cIjpyLmhvc3Q7cmV0dXJuIHIuaWQ9ci5wcm90b2NvbCtcIjovL1wiK2ErXCI6XCIrci5wb3J0LHIuaHJlZj1yLnByb3RvY29sK1wiOi8vXCIrYSsobiYmbi5wb3J0PT09ci5wb3J0P1wiXCI6XCI6XCIrci5wb3J0KSxyfXZhciBvPW4oMiksaT1uKDMpKFwic29ja2V0LmlvLWNsaWVudDp1cmxcIik7dC5leHBvcnRzPXJ9KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSl7dmFyIG49L14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoaHR0cHxodHRwc3x3c3x3c3MpOlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oKD86W2EtZjAtOV17MCw0fTopezIsN31bYS1mMC05XXswLDR9fFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS8scj1bXCJzb3VyY2VcIixcInByb3RvY29sXCIsXCJhdXRob3JpdHlcIixcInVzZXJJbmZvXCIsXCJ1c2VyXCIsXCJwYXNzd29yZFwiLFwiaG9zdFwiLFwicG9ydFwiLFwicmVsYXRpdmVcIixcInBhdGhcIixcImRpcmVjdG9yeVwiLFwiZmlsZVwiLFwicXVlcnlcIixcImFuY2hvclwiXTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9dCxvPXQuaW5kZXhPZihcIltcIiksaT10LmluZGV4T2YoXCJdXCIpO28hPS0xJiZpIT0tMSYmKHQ9dC5zdWJzdHJpbmcoMCxvKSt0LnN1YnN0cmluZyhvLGkpLnJlcGxhY2UoLzovZyxcIjtcIikrdC5zdWJzdHJpbmcoaSx0Lmxlbmd0aCkpO2Zvcih2YXIgcz1uLmV4ZWModHx8XCJcIiksYT17fSxjPTE0O2MtLTspYVtyW2NdXT1zW2NdfHxcIlwiO3JldHVybiBvIT0tMSYmaSE9LTEmJihhLnNvdXJjZT1lLGEuaG9zdD1hLmhvc3Quc3Vic3RyaW5nKDEsYS5ob3N0Lmxlbmd0aC0xKS5yZXBsYWNlKC87L2csXCI6XCIpLGEuYXV0aG9yaXR5PWEuYXV0aG9yaXR5LnJlcGxhY2UoXCJbXCIsXCJcIikucmVwbGFjZShcIl1cIixcIlwiKS5yZXBsYWNlKC87L2csXCI6XCIpLGEuaXB2NnVyaT0hMCksYX19LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24ocil7ZnVuY3Rpb24gbygpe3JldHVybiEoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5wcm9jZXNzfHxcInJlbmRlcmVyXCIhPT13aW5kb3cucHJvY2Vzcy50eXBlKXx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY29uc29sZSYmKHdpbmRvdy5jb25zb2xlLmZpcmVidWd8fHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiYmd2luZG93LmNvbnNvbGUudGFibGUpfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSYmcGFyc2VJbnQoUmVnRXhwLiQxLDEwKT49MzF8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSl9ZnVuY3Rpb24gaSh0KXt2YXIgbj10aGlzLnVzZUNvbG9ycztpZih0WzBdPShuP1wiJWNcIjpcIlwiKSt0aGlzLm5hbWVzcGFjZSsobj9cIiAlY1wiOlwiIFwiKSt0WzBdKyhuP1wiJWMgXCI6XCIgXCIpK1wiK1wiK2UuaHVtYW5pemUodGhpcy5kaWZmKSxuKXt2YXIgcj1cImNvbG9yOiBcIit0aGlzLmNvbG9yO3Quc3BsaWNlKDEsMCxyLFwiY29sb3I6IGluaGVyaXRcIik7dmFyIG89MCxpPTA7dFswXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csZnVuY3Rpb24odCl7XCIlJVwiIT09dCYmKG8rKyxcIiVjXCI9PT10JiYoaT1vKSl9KSx0LnNwbGljZShpLDAscil9fWZ1bmN0aW9uIHMoKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2cmJkZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLGNvbnNvbGUsYXJndW1lbnRzKX1mdW5jdGlvbiBhKHQpe3RyeXtudWxsPT10P2Uuc3RvcmFnZS5yZW1vdmVJdGVtKFwiZGVidWdcIik6ZS5zdG9yYWdlLmRlYnVnPXR9Y2F0Y2gobil7fX1mdW5jdGlvbiBjKCl7dmFyIHQ7dHJ5e3Q9ZS5zdG9yYWdlLmRlYnVnfWNhdGNoKG4pe31yZXR1cm4hdCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHImJlwiZW52XCJpbiByJiYodD1yLmVudi5ERUJVRyksdH1mdW5jdGlvbiBwKCl7dHJ5e3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKHQpe319ZT10LmV4cG9ydHM9big1KSxlLmxvZz1zLGUuZm9ybWF0QXJncz1pLGUuc2F2ZT1hLGUubG9hZD1jLGUudXNlQ29sb3JzPW8sZS5zdG9yYWdlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBjaHJvbWUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBjaHJvbWUuc3RvcmFnZT9jaHJvbWUuc3RvcmFnZS5sb2NhbDpwKCksZS5jb2xvcnM9W1wibGlnaHRzZWFncmVlblwiLFwiZm9yZXN0Z3JlZW5cIixcImdvbGRlbnJvZFwiLFwiZG9kZ2VyYmx1ZVwiLFwiZGFya29yY2hpZFwiLFwiY3JpbXNvblwiXSxlLmZvcm1hdHRlcnMuaj1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpfWNhdGNoKGUpe3JldHVyblwiW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06IFwiK2UubWVzc2FnZX19LGUuZW5hYmxlKGMoKSl9KS5jYWxsKGUsbig0KSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gcigpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBvKHQpe2lmKHU9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KHQsMCk7aWYoKHU9PT1ufHwhdSkmJnNldFRpbWVvdXQpcmV0dXJuIHU9c2V0VGltZW91dCxzZXRUaW1lb3V0KHQsMCk7dHJ5e3JldHVybiB1KHQsMCl9Y2F0Y2goZSl7dHJ5e3JldHVybiB1LmNhbGwobnVsbCx0LDApfWNhdGNoKGUpe3JldHVybiB1LmNhbGwodGhpcyx0LDApfX19ZnVuY3Rpb24gaSh0KXtpZihoPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQodCk7aWYoKGg9PT1yfHwhaCkmJmNsZWFyVGltZW91dClyZXR1cm4gaD1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KHQpO3RyeXtyZXR1cm4gaCh0KX1jYXRjaChlKXt0cnl7cmV0dXJuIGguY2FsbChudWxsLHQpfWNhdGNoKGUpe3JldHVybiBoLmNhbGwodGhpcyx0KX19fWZ1bmN0aW9uIHMoKXt5JiZsJiYoeT0hMSxsLmxlbmd0aD9kPWwuY29uY2F0KGQpOm09LTEsZC5sZW5ndGgmJmEoKSl9ZnVuY3Rpb24gYSgpe2lmKCF5KXt2YXIgdD1vKHMpO3k9ITA7Zm9yKHZhciBlPWQubGVuZ3RoO2U7KXtmb3IobD1kLGQ9W107KyttPGU7KWwmJmxbbV0ucnVuKCk7bT0tMSxlPWQubGVuZ3RofWw9bnVsbCx5PSExLGkodCl9fWZ1bmN0aW9uIGModCxlKXt0aGlzLmZ1bj10LHRoaXMuYXJyYXk9ZX1mdW5jdGlvbiBwKCl7fXZhciB1LGgsZj10LmV4cG9ydHM9e307IWZ1bmN0aW9uKCl7dHJ5e3U9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om59Y2F0Y2godCl7dT1ufXRyeXtoPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6cn1jYXRjaCh0KXtoPXJ9fSgpO3ZhciBsLGQ9W10seT0hMSxtPS0xO2YubmV4dFRpY2s9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtkLnB1c2gobmV3IGModCxlKSksMSE9PWQubGVuZ3RofHx5fHxvKGEpfSxjLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxmLnRpdGxlPVwiYnJvd3NlclwiLGYuYnJvd3Nlcj0hMCxmLmVudj17fSxmLmFyZ3Y9W10sZi52ZXJzaW9uPVwiXCIsZi52ZXJzaW9ucz17fSxmLm9uPXAsZi5hZGRMaXN0ZW5lcj1wLGYub25jZT1wLGYub2ZmPXAsZi5yZW1vdmVMaXN0ZW5lcj1wLGYucmVtb3ZlQWxsTGlzdGVuZXJzPXAsZi5lbWl0PXAsZi5wcmVwZW5kTGlzdGVuZXI9cCxmLnByZXBlbmRPbmNlTGlzdGVuZXI9cCxmLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm5bXX0sZi5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxmLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxmLmNoZGlyPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sZi51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIHIodCl7dmFyIG4scj0wO2ZvcihuIGluIHQpcj0ocjw8NSktcit0LmNoYXJDb2RlQXQobikscnw9MDtyZXR1cm4gZS5jb2xvcnNbTWF0aC5hYnMociklZS5jb2xvcnMubGVuZ3RoXX1mdW5jdGlvbiBvKHQpe2Z1bmN0aW9uIG4oKXtpZihuLmVuYWJsZWQpe3ZhciB0PW4scj0rbmV3IERhdGUsbz1yLShwfHxyKTt0LmRpZmY9byx0LnByZXY9cCx0LmN1cnI9cixwPXI7Zm9yKHZhciBpPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxzPTA7czxpLmxlbmd0aDtzKyspaVtzXT1hcmd1bWVudHNbc107aVswXT1lLmNvZXJjZShpWzBdKSxcInN0cmluZ1wiIT10eXBlb2YgaVswXSYmaS51bnNoaWZ0KFwiJU9cIik7dmFyIGE9MDtpWzBdPWlbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csZnVuY3Rpb24obixyKXtpZihcIiUlXCI9PT1uKXJldHVybiBuO2ErKzt2YXIgbz1lLmZvcm1hdHRlcnNbcl07aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbyl7dmFyIHM9aVthXTtuPW8uY2FsbCh0LHMpLGkuc3BsaWNlKGEsMSksYS0tfXJldHVybiBufSksZS5mb3JtYXRBcmdzLmNhbGwodCxpKTt2YXIgYz1uLmxvZ3x8ZS5sb2d8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7Yy5hcHBseSh0LGkpfX1yZXR1cm4gbi5uYW1lc3BhY2U9dCxuLmVuYWJsZWQ9ZS5lbmFibGVkKHQpLG4udXNlQ29sb3JzPWUudXNlQ29sb3JzKCksbi5jb2xvcj1yKHQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuaW5pdCYmZS5pbml0KG4pLG59ZnVuY3Rpb24gaSh0KXtlLnNhdmUodCksZS5uYW1lcz1bXSxlLnNraXBzPVtdO2Zvcih2YXIgbj0oXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDpcIlwiKS5zcGxpdCgvW1xccyxdKy8pLHI9bi5sZW5ndGgsbz0wO288cjtvKyspbltvXSYmKHQ9bltvXS5yZXBsYWNlKC9cXCovZyxcIi4qP1wiKSxcIi1cIj09PXRbMF0/ZS5za2lwcy5wdXNoKG5ldyBSZWdFeHAoXCJeXCIrdC5zdWJzdHIoMSkrXCIkXCIpKTplLm5hbWVzLnB1c2gobmV3IFJlZ0V4cChcIl5cIit0K1wiJFwiKSkpfWZ1bmN0aW9uIHMoKXtlLmVuYWJsZShcIlwiKX1mdW5jdGlvbiBhKHQpe3ZhciBuLHI7Zm9yKG49MCxyPWUuc2tpcHMubGVuZ3RoO248cjtuKyspaWYoZS5za2lwc1tuXS50ZXN0KHQpKXJldHVybiExO2ZvcihuPTAscj1lLm5hbWVzLmxlbmd0aDtuPHI7bisrKWlmKGUubmFtZXNbbl0udGVzdCh0KSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBjKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRXJyb3I/dC5zdGFja3x8dC5tZXNzYWdlOnR9ZT10LmV4cG9ydHM9by5kZWJ1Zz1vW1wiZGVmYXVsdFwiXT1vLGUuY29lcmNlPWMsZS5kaXNhYmxlPXMsZS5lbmFibGU9aSxlLmVuYWJsZWQ9YSxlLmh1bWFuaXplPW4oNiksZS5uYW1lcz1bXSxlLnNraXBzPVtdLGUuZm9ybWF0dGVycz17fTt2YXIgcH0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQpe2lmKHQ9U3RyaW5nKHQpLCEodC5sZW5ndGg+MTAwKSl7dmFyIGU9L14oKD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyh0KTtpZihlKXt2YXIgbj1wYXJzZUZsb2F0KGVbMV0pLHI9KGVbMl18fFwibXNcIikudG9Mb3dlckNhc2UoKTtzd2l0Y2gocil7Y2FzZVwieWVhcnNcIjpjYXNlXCJ5ZWFyXCI6Y2FzZVwieXJzXCI6Y2FzZVwieXJcIjpjYXNlXCJ5XCI6cmV0dXJuIG4qdTtjYXNlXCJkYXlzXCI6Y2FzZVwiZGF5XCI6Y2FzZVwiZFwiOnJldHVybiBuKnA7Y2FzZVwiaG91cnNcIjpjYXNlXCJob3VyXCI6Y2FzZVwiaHJzXCI6Y2FzZVwiaHJcIjpjYXNlXCJoXCI6cmV0dXJuIG4qYztjYXNlXCJtaW51dGVzXCI6Y2FzZVwibWludXRlXCI6Y2FzZVwibWluc1wiOmNhc2VcIm1pblwiOmNhc2VcIm1cIjpyZXR1cm4gbiphO2Nhc2VcInNlY29uZHNcIjpjYXNlXCJzZWNvbmRcIjpjYXNlXCJzZWNzXCI6Y2FzZVwic2VjXCI6Y2FzZVwic1wiOnJldHVybiBuKnM7Y2FzZVwibWlsbGlzZWNvbmRzXCI6Y2FzZVwibWlsbGlzZWNvbmRcIjpjYXNlXCJtc2Vjc1wiOmNhc2VcIm1zZWNcIjpjYXNlXCJtc1wiOnJldHVybiBuO2RlZmF1bHQ6cmV0dXJufX19fWZ1bmN0aW9uIHIodCl7cmV0dXJuIHQ+PXA/TWF0aC5yb3VuZCh0L3ApK1wiZFwiOnQ+PWM/TWF0aC5yb3VuZCh0L2MpK1wiaFwiOnQ+PWE/TWF0aC5yb3VuZCh0L2EpK1wibVwiOnQ+PXM/TWF0aC5yb3VuZCh0L3MpK1wic1wiOnQrXCJtc1wifWZ1bmN0aW9uIG8odCl7cmV0dXJuIGkodCxwLFwiZGF5XCIpfHxpKHQsYyxcImhvdXJcIil8fGkodCxhLFwibWludXRlXCIpfHxpKHQscyxcInNlY29uZFwiKXx8dCtcIiBtc1wifWZ1bmN0aW9uIGkodCxlLG4pe2lmKCEodDxlKSlyZXR1cm4gdDwxLjUqZT9NYXRoLmZsb29yKHQvZSkrXCIgXCIrbjpNYXRoLmNlaWwodC9lKStcIiBcIituK1wic1wifXZhciBzPTFlMyxhPTYwKnMsYz02MCphLHA9MjQqYyx1PTM2NS4yNSpwO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2U9ZXx8e307dmFyIGk9dHlwZW9mIHQ7aWYoXCJzdHJpbmdcIj09PWkmJnQubGVuZ3RoPjApcmV0dXJuIG4odCk7aWYoXCJudW1iZXJcIj09PWkmJmlzTmFOKHQpPT09ITEpcmV0dXJuIGVbXCJsb25nXCJdP28odCk6cih0KTt0aHJvdyBuZXcgRXJyb3IoXCJ2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPVwiK0pTT04uc3RyaW5naWZ5KHQpKX19LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKCl7fWZ1bmN0aW9uIG8odCl7dmFyIG49XCJcIit0LnR5cGU7cmV0dXJuIGUuQklOQVJZX0VWRU5UIT09dC50eXBlJiZlLkJJTkFSWV9BQ0shPT10LnR5cGV8fChuKz10LmF0dGFjaG1lbnRzK1wiLVwiKSx0Lm5zcCYmXCIvXCIhPT10Lm5zcCYmKG4rPXQubnNwK1wiLFwiKSxudWxsIT10LmlkJiYobis9dC5pZCksbnVsbCE9dC5kYXRhJiYobis9SlNPTi5zdHJpbmdpZnkodC5kYXRhKSksaChcImVuY29kZWQgJWogYXMgJXNcIix0LG4pLG59ZnVuY3Rpb24gaSh0LGUpe2Z1bmN0aW9uIG4odCl7dmFyIG49ZC5kZWNvbnN0cnVjdFBhY2tldCh0KSxyPW8obi5wYWNrZXQpLGk9bi5idWZmZXJzO2kudW5zaGlmdChyKSxlKGkpfWQucmVtb3ZlQmxvYnModCxuKX1mdW5jdGlvbiBzKCl7dGhpcy5yZWNvbnN0cnVjdG9yPW51bGx9ZnVuY3Rpb24gYSh0KXt2YXIgbj0wLHI9e3R5cGU6TnVtYmVyKHQuY2hhckF0KDApKX07aWYobnVsbD09ZS50eXBlc1tyLnR5cGVdKXJldHVybiB1KCk7aWYoZS5CSU5BUllfRVZFTlQ9PT1yLnR5cGV8fGUuQklOQVJZX0FDSz09PXIudHlwZSl7Zm9yKHZhciBvPVwiXCI7XCItXCIhPT10LmNoYXJBdCgrK24pJiYobys9dC5jaGFyQXQobiksbiE9dC5sZW5ndGgpOyk7aWYobyE9TnVtYmVyKG8pfHxcIi1cIiE9PXQuY2hhckF0KG4pKXRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgYXR0YWNobWVudHNcIik7ci5hdHRhY2htZW50cz1OdW1iZXIobyl9aWYoXCIvXCI9PT10LmNoYXJBdChuKzEpKWZvcihyLm5zcD1cIlwiOysrbjspe3ZhciBpPXQuY2hhckF0KG4pO2lmKFwiLFwiPT09aSlicmVhaztpZihyLm5zcCs9aSxuPT09dC5sZW5ndGgpYnJlYWt9ZWxzZSByLm5zcD1cIi9cIjt2YXIgcz10LmNoYXJBdChuKzEpO2lmKFwiXCIhPT1zJiZOdW1iZXIocyk9PXMpe2ZvcihyLmlkPVwiXCI7KytuOyl7dmFyIGk9dC5jaGFyQXQobik7aWYobnVsbD09aXx8TnVtYmVyKGkpIT1pKXstLW47YnJlYWt9aWYoci5pZCs9dC5jaGFyQXQobiksbj09PXQubGVuZ3RoKWJyZWFrfXIuaWQ9TnVtYmVyKHIuaWQpfXJldHVybiB0LmNoYXJBdCgrK24pJiYocj1jKHIsdC5zdWJzdHIobikpKSxoKFwiZGVjb2RlZCAlcyBhcyAlalwiLHQscikscn1mdW5jdGlvbiBjKHQsZSl7dHJ5e3QuZGF0YT1KU09OLnBhcnNlKGUpfWNhdGNoKG4pe3JldHVybiB1KCl9cmV0dXJuIHR9ZnVuY3Rpb24gcCh0KXt0aGlzLnJlY29uUGFjaz10LHRoaXMuYnVmZmVycz1bXX1mdW5jdGlvbiB1KCl7cmV0dXJue3R5cGU6ZS5FUlJPUixkYXRhOlwicGFyc2VyIGVycm9yXCJ9fXZhciBoPW4oMykoXCJzb2NrZXQuaW8tcGFyc2VyXCIpLGY9big4KSxsPW4oOSksZD1uKDExKSx5PW4oMTIpO2UucHJvdG9jb2w9NCxlLnR5cGVzPVtcIkNPTk5FQ1RcIixcIkRJU0NPTk5FQ1RcIixcIkVWRU5UXCIsXCJBQ0tcIixcIkVSUk9SXCIsXCJCSU5BUllfRVZFTlRcIixcIkJJTkFSWV9BQ0tcIl0sZS5DT05ORUNUPTAsZS5ESVNDT05ORUNUPTEsZS5FVkVOVD0yLGUuQUNLPTMsZS5FUlJPUj00LGUuQklOQVJZX0VWRU5UPTUsZS5CSU5BUllfQUNLPTYsZS5FbmNvZGVyPXIsZS5EZWNvZGVyPXMsci5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKHQsbil7aWYodC50eXBlIT09ZS5FVkVOVCYmdC50eXBlIT09ZS5BQ0t8fCFsKHQuZGF0YSl8fCh0LnR5cGU9dC50eXBlPT09ZS5FVkVOVD9lLkJJTkFSWV9FVkVOVDplLkJJTkFSWV9BQ0spLGgoXCJlbmNvZGluZyBwYWNrZXQgJWpcIix0KSxlLkJJTkFSWV9FVkVOVD09PXQudHlwZXx8ZS5CSU5BUllfQUNLPT09dC50eXBlKWkodCxuKTtlbHNle3ZhciByPW8odCk7bihbcl0pfX0sZihzLnByb3RvdHlwZSkscy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KW49YSh0KSxlLkJJTkFSWV9FVkVOVD09PW4udHlwZXx8ZS5CSU5BUllfQUNLPT09bi50eXBlPyh0aGlzLnJlY29uc3RydWN0b3I9bmV3IHAobiksMD09PXRoaXMucmVjb25zdHJ1Y3Rvci5yZWNvblBhY2suYXR0YWNobWVudHMmJnRoaXMuZW1pdChcImRlY29kZWRcIixuKSk6dGhpcy5lbWl0KFwiZGVjb2RlZFwiLG4pO2Vsc2V7aWYoIXkodCkmJiF0LmJhc2U2NCl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiK3QpO2lmKCF0aGlzLnJlY29uc3RydWN0b3IpdGhyb3cgbmV3IEVycm9yKFwiZ290IGJpbmFyeSBkYXRhIHdoZW4gbm90IHJlY29uc3RydWN0aW5nIGEgcGFja2V0XCIpO249dGhpcy5yZWNvbnN0cnVjdG9yLnRha2VCaW5hcnlEYXRhKHQpLG4mJih0aGlzLnJlY29uc3RydWN0b3I9bnVsbCx0aGlzLmVtaXQoXCJkZWNvZGVkXCIsbikpfX0scy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMucmVjb25zdHJ1Y3RvciYmdGhpcy5yZWNvbnN0cnVjdG9yLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKX0scC5wcm90b3R5cGUudGFrZUJpbmFyeURhdGE9ZnVuY3Rpb24odCl7aWYodGhpcy5idWZmZXJzLnB1c2godCksdGhpcy5idWZmZXJzLmxlbmd0aD09PXRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKXt2YXIgZT1kLnJlY29uc3RydWN0UGFja2V0KHRoaXMucmVjb25QYWNrLHRoaXMuYnVmZmVycyk7cmV0dXJuIHRoaXMuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpLGV9cmV0dXJuIG51bGx9LHAucHJvdG90eXBlLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb249ZnVuY3Rpb24oKXt0aGlzLnJlY29uUGFjaz1udWxsLHRoaXMuYnVmZmVycz1bXX19LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe2lmKHQpcmV0dXJuIG8odCl9ZnVuY3Rpb24gbyh0KXtmb3IodmFyIGUgaW4gci5wcm90b3R5cGUpdFtlXT1yLnByb3RvdHlwZVtlXTtyZXR1cm4gdH10LmV4cG9ydHM9cixyLnByb3RvdHlwZS5vbj1yLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LCh0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF09dGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdfHxbXSkucHVzaChlKSx0aGlzfSxyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3RoaXMub2ZmKHQsbiksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIG4uZm49ZSx0aGlzLm9uKHQsbiksdGhpc30sci5wcm90b3R5cGUub2ZmPXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1yLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sMD09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXt9LHRoaXM7dmFyIG49dGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdO2lmKCFuKXJldHVybiB0aGlzO2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF0sdGhpcztmb3IodmFyIHIsbz0wO288bi5sZW5ndGg7bysrKWlmKHI9bltvXSxyPT09ZXx8ci5mbj09PWUpe24uc3BsaWNlKG8sMSk7YnJlYWt9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e307dmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbj10aGlzLl9jYWxsYmFja3NbXCIkXCIrdF07aWYobil7bj1uLnNsaWNlKDApO2Zvcih2YXIgcj0wLG89bi5sZW5ndGg7cjxvOysrciluW3JdLmFwcGx5KHRoaXMsZSl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sdGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdfHxbXX0sci5wcm90b3R5cGUuaGFzTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5saXN0ZW5lcnModCkubGVuZ3RofX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKHQpe2lmKCF0fHxcIm9iamVjdFwiIT10eXBlb2YgdClyZXR1cm4hMTtpZihvKHQpKXtmb3IodmFyIG49MCxpPXQubGVuZ3RoO248aTtuKyspaWYocih0W25dKSlyZXR1cm4hMDtyZXR1cm4hMX1pZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLkJ1ZmZlciYmZS5CdWZmZXIuaXNCdWZmZXImJmUuQnVmZmVyLmlzQnVmZmVyKHQpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLkFycmF5QnVmZmVyJiZ0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fHMmJnQgaW5zdGFuY2VvZiBCbG9ifHxhJiZ0IGluc3RhbmNlb2YgRmlsZSlyZXR1cm4hMDtpZih0LnRvSlNPTiYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50b0pTT04mJjE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiByKHQudG9KU09OKCksITApO2Zvcih2YXIgYyBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGMpJiZyKHRbY10pKXJldHVybiEwO3JldHVybiExfXZhciBvPW4oMTApLGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxzPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUuQmxvYnx8XCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIj09PWkuY2FsbChlLkJsb2IpLGE9XCJmdW5jdGlvblwiPT10eXBlb2YgZS5GaWxlfHxcIltvYmplY3QgRmlsZUNvbnN0cnVjdG9yXVwiPT09aS5jYWxsKGUuRmlsZSk7dC5leHBvcnRzPXJ9KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSl7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09bi5jYWxsKHQpfX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKHQsZSl7aWYoIXQpcmV0dXJuIHQ7aWYocyh0KSl7dmFyIG49e19wbGFjZWhvbGRlcjohMCxudW06ZS5sZW5ndGh9O3JldHVybiBlLnB1c2godCksbn1pZihpKHQpKXtmb3IodmFyIG89bmV3IEFycmF5KHQubGVuZ3RoKSxhPTA7YTx0Lmxlbmd0aDthKyspb1thXT1yKHRbYV0sZSk7cmV0dXJuIG99aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJiEodCBpbnN0YW5jZW9mIERhdGUpKXt2YXIgbz17fTtmb3IodmFyIGMgaW4gdClvW2NdPXIodFtjXSxlKTtyZXR1cm4gb31yZXR1cm4gdH1mdW5jdGlvbiBvKHQsZSl7aWYoIXQpcmV0dXJuIHQ7aWYodCYmdC5fcGxhY2Vob2xkZXIpcmV0dXJuIGVbdC5udW1dO2lmKGkodCkpZm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspdFtuXT1vKHRbbl0sZSk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgdClmb3IodmFyIHIgaW4gdCl0W3JdPW8odFtyXSxlKTtyZXR1cm4gdH12YXIgaT1uKDEwKSxzPW4oMTIpLGE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQuQmxvYnx8XCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIj09PWEuY2FsbCh0LkJsb2IpLHA9XCJmdW5jdGlvblwiPT10eXBlb2YgdC5GaWxlfHxcIltvYmplY3QgRmlsZUNvbnN0cnVjdG9yXVwiPT09YS5jYWxsKHQuRmlsZSk7ZS5kZWNvbnN0cnVjdFBhY2tldD1mdW5jdGlvbih0KXt2YXIgZT1bXSxuPXQuZGF0YSxvPXQ7cmV0dXJuIG8uZGF0YT1yKG4sZSksby5hdHRhY2htZW50cz1lLmxlbmd0aCx7cGFja2V0Om8sYnVmZmVyczplfX0sZS5yZWNvbnN0cnVjdFBhY2tldD1mdW5jdGlvbih0LGUpe3JldHVybiB0LmRhdGE9byh0LmRhdGEsZSksdC5hdHRhY2htZW50cz12b2lkIDAsdH0sZS5yZW1vdmVCbG9icz1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxhLHUpe2lmKCF0KXJldHVybiB0O2lmKGMmJnQgaW5zdGFuY2VvZiBCbG9ifHxwJiZ0IGluc3RhbmNlb2YgRmlsZSl7cisrO3ZhciBoPW5ldyBGaWxlUmVhZGVyO2gub25sb2FkPWZ1bmN0aW9uKCl7dT91W2FdPXRoaXMucmVzdWx0Om89dGhpcy5yZXN1bHQsLS1yfHxlKG8pfSxoLnJlYWRBc0FycmF5QnVmZmVyKHQpfWVsc2UgaWYoaSh0KSlmb3IodmFyIGY9MDtmPHQubGVuZ3RoO2YrKyluKHRbZl0sZix0KTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiYhcyh0KSlmb3IodmFyIGwgaW4gdCluKHRbbF0sbCx0KX12YXIgcj0wLG89dDtuKG8pLHJ8fGUobyl9fSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpeyhmdW5jdGlvbihlKXtmdW5jdGlvbiBuKHQpe3JldHVybiBlLkJ1ZmZlciYmZS5CdWZmZXIuaXNCdWZmZXIodCl8fGUuQXJyYXlCdWZmZXImJnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcn10LmV4cG9ydHM9bn0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIodCxlKXtpZighKHRoaXMgaW5zdGFuY2VvZiByKSlyZXR1cm4gbmV3IHIodCxlKTt0JiZcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB0P1widW5kZWZpbmVkXCI6byh0KSkmJihlPXQsdD12b2lkIDApLGU9ZXx8e30sZS5wYXRoPWUucGF0aHx8XCIvc29ja2V0LmlvXCIsdGhpcy5uc3BzPXt9LHRoaXMuc3Vicz1bXSx0aGlzLm9wdHM9ZSx0aGlzLnJlY29ubmVjdGlvbihlLnJlY29ubmVjdGlvbiE9PSExKSx0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzKGUucmVjb25uZWN0aW9uQXR0ZW1wdHN8fDEvMCksdGhpcy5yZWNvbm5lY3Rpb25EZWxheShlLnJlY29ubmVjdGlvbkRlbGF5fHwxZTMpLHRoaXMucmVjb25uZWN0aW9uRGVsYXlNYXgoZS5yZWNvbm5lY3Rpb25EZWxheU1heHx8NWUzKSx0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoZS5yYW5kb21pemF0aW9uRmFjdG9yfHwuNSksdGhpcy5iYWNrb2ZmPW5ldyBsKHttaW46dGhpcy5yZWNvbm5lY3Rpb25EZWxheSgpLG1heDp0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KCksaml0dGVyOnRoaXMucmFuZG9taXphdGlvbkZhY3RvcigpfSksdGhpcy50aW1lb3V0KG51bGw9PWUudGltZW91dD8yZTQ6ZS50aW1lb3V0KSx0aGlzLnJlYWR5U3RhdGU9XCJjbG9zZWRcIix0aGlzLnVyaT10LHRoaXMuY29ubmVjdGluZz1bXSx0aGlzLmxhc3RQaW5nPW51bGwsdGhpcy5lbmNvZGluZz0hMSx0aGlzLnBhY2tldEJ1ZmZlcj1bXTt2YXIgbj1lLnBhcnNlcnx8Yzt0aGlzLmVuY29kZXI9bmV3IG4uRW5jb2Rlcix0aGlzLmRlY29kZXI9bmV3IG4uRGVjb2Rlcix0aGlzLmF1dG9Db25uZWN0PWUuYXV0b0Nvbm5lY3QhPT0hMSx0aGlzLmF1dG9Db25uZWN0JiZ0aGlzLm9wZW4oKX12YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxpPW4oMTQpLHM9bigzNyksYT1uKDgpLGM9big3KSxwPW4oMzkpLHU9big0MCksaD1uKDMpKFwic29ja2V0LmlvLWNsaWVudDptYW5hZ2VyXCIpLGY9bigzNiksbD1uKDQxKSxkPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPXIsci5wcm90b3R5cGUuZW1pdEFsbD1mdW5jdGlvbigpe3RoaXMuZW1pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Zm9yKHZhciB0IGluIHRoaXMubnNwcylkLmNhbGwodGhpcy5uc3BzLHQpJiZ0aGlzLm5zcHNbdF0uZW1pdC5hcHBseSh0aGlzLm5zcHNbdF0sYXJndW1lbnRzKX0sci5wcm90b3R5cGUudXBkYXRlU29ja2V0SWRzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMubnNwcylkLmNhbGwodGhpcy5uc3BzLHQpJiYodGhpcy5uc3BzW3RdLmlkPXRoaXMuZ2VuZXJhdGVJZCh0KSl9LHIucHJvdG90eXBlLmdlbmVyYXRlSWQ9ZnVuY3Rpb24odCl7cmV0dXJuKFwiL1wiPT09dD9cIlwiOnQrXCIjXCIpK3RoaXMuZW5naW5lLmlkfSxhKHIucHJvdG90eXBlKSxyLnByb3RvdHlwZS5yZWNvbm5lY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3JlY29ubmVjdGlvbj0hIXQsdGhpcyk6dGhpcy5fcmVjb25uZWN0aW9ufSxyLnByb3RvdHlwZS5yZWNvbm5lY3Rpb25BdHRlbXB0cz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHM9dCx0aGlzKTp0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0c30sci5wcm90b3R5cGUucmVjb25uZWN0aW9uRGVsYXk9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5PXQsdGhpcy5iYWNrb2ZmJiZ0aGlzLmJhY2tvZmYuc2V0TWluKHQpLHRoaXMpOnRoaXMuX3JlY29ubmVjdGlvbkRlbGF5fSxyLnByb3RvdHlwZS5yYW5kb21pemF0aW9uRmFjdG9yPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yPXQsdGhpcy5iYWNrb2ZmJiZ0aGlzLmJhY2tvZmYuc2V0Sml0dGVyKHQpLHRoaXMpOnRoaXMuX3JhbmRvbWl6YXRpb25GYWN0b3J9LHIucHJvdG90eXBlLnJlY29ubmVjdGlvbkRlbGF5TWF4PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZWNvbm5lY3Rpb25EZWxheU1heD10LHRoaXMuYmFja29mZiYmdGhpcy5iYWNrb2ZmLnNldE1heCh0KSx0aGlzKTp0aGlzLl9yZWNvbm5lY3Rpb25EZWxheU1heH0sci5wcm90b3R5cGUudGltZW91dD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fdGltZW91dD10LHRoaXMpOnRoaXMuX3RpbWVvdXR9LHIucHJvdG90eXBlLm1heWJlUmVjb25uZWN0T25PcGVuPWZ1bmN0aW9uKCl7IXRoaXMucmVjb25uZWN0aW5nJiZ0aGlzLl9yZWNvbm5lY3Rpb24mJjA9PT10aGlzLmJhY2tvZmYuYXR0ZW1wdHMmJnRoaXMucmVjb25uZWN0KCl9LHIucHJvdG90eXBlLm9wZW49ci5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbih0LGUpe2lmKGgoXCJyZWFkeVN0YXRlICVzXCIsdGhpcy5yZWFkeVN0YXRlKSx+dGhpcy5yZWFkeVN0YXRlLmluZGV4T2YoXCJvcGVuXCIpKXJldHVybiB0aGlzO2goXCJvcGVuaW5nICVzXCIsdGhpcy51cmkpLHRoaXMuZW5naW5lPWkodGhpcy51cmksdGhpcy5vcHRzKTt2YXIgbj10aGlzLmVuZ2luZSxyPXRoaXM7dGhpcy5yZWFkeVN0YXRlPVwib3BlbmluZ1wiLHRoaXMuc2tpcFJlY29ubmVjdD0hMTt2YXIgbz1wKG4sXCJvcGVuXCIsZnVuY3Rpb24oKXtyLm9ub3BlbigpLHQmJnQoKX0pLHM9cChuLFwiZXJyb3JcIixmdW5jdGlvbihlKXtpZihoKFwiY29ubmVjdF9lcnJvclwiKSxyLmNsZWFudXAoKSxyLnJlYWR5U3RhdGU9XCJjbG9zZWRcIixyLmVtaXRBbGwoXCJjb25uZWN0X2Vycm9yXCIsZSksdCl7dmFyIG49bmV3IEVycm9yKFwiQ29ubmVjdGlvbiBlcnJvclwiKTtuLmRhdGE9ZSx0KG4pfWVsc2Ugci5tYXliZVJlY29ubmVjdE9uT3BlbigpfSk7aWYoITEhPT10aGlzLl90aW1lb3V0KXt2YXIgYT10aGlzLl90aW1lb3V0O2goXCJjb25uZWN0IGF0dGVtcHQgd2lsbCB0aW1lb3V0IGFmdGVyICVkXCIsYSk7dmFyIGM9c2V0VGltZW91dChmdW5jdGlvbigpe2goXCJjb25uZWN0IGF0dGVtcHQgdGltZWQgb3V0IGFmdGVyICVkXCIsYSksby5kZXN0cm95KCksbi5jbG9zZSgpLG4uZW1pdChcImVycm9yXCIsXCJ0aW1lb3V0XCIpLHIuZW1pdEFsbChcImNvbm5lY3RfdGltZW91dFwiLGEpfSxhKTt0aGlzLnN1YnMucHVzaCh7ZGVzdHJveTpmdW5jdGlvbigpe2NsZWFyVGltZW91dChjKX19KX1yZXR1cm4gdGhpcy5zdWJzLnB1c2gobyksdGhpcy5zdWJzLnB1c2gocyksdGhpc30sci5wcm90b3R5cGUub25vcGVuPWZ1bmN0aW9uKCl7aChcIm9wZW5cIiksdGhpcy5jbGVhbnVwKCksdGhpcy5yZWFkeVN0YXRlPVwib3BlblwiLHRoaXMuZW1pdChcIm9wZW5cIik7dmFyIHQ9dGhpcy5lbmdpbmU7dGhpcy5zdWJzLnB1c2gocCh0LFwiZGF0YVwiLHUodGhpcyxcIm9uZGF0YVwiKSkpLHRoaXMuc3Vicy5wdXNoKHAodCxcInBpbmdcIix1KHRoaXMsXCJvbnBpbmdcIikpKSx0aGlzLnN1YnMucHVzaChwKHQsXCJwb25nXCIsdSh0aGlzLFwib25wb25nXCIpKSksdGhpcy5zdWJzLnB1c2gocCh0LFwiZXJyb3JcIix1KHRoaXMsXCJvbmVycm9yXCIpKSksdGhpcy5zdWJzLnB1c2gocCh0LFwiY2xvc2VcIix1KHRoaXMsXCJvbmNsb3NlXCIpKSksdGhpcy5zdWJzLnB1c2gocCh0aGlzLmRlY29kZXIsXCJkZWNvZGVkXCIsdSh0aGlzLFwib25kZWNvZGVkXCIpKSl9LHIucHJvdG90eXBlLm9ucGluZz1mdW5jdGlvbigpe3RoaXMubGFzdFBpbmc9bmV3IERhdGUsdGhpcy5lbWl0QWxsKFwicGluZ1wiKX0sci5wcm90b3R5cGUub25wb25nPWZ1bmN0aW9uKCl7dGhpcy5lbWl0QWxsKFwicG9uZ1wiLG5ldyBEYXRlLXRoaXMubGFzdFBpbmcpfSxyLnByb3RvdHlwZS5vbmRhdGE9ZnVuY3Rpb24odCl7dGhpcy5kZWNvZGVyLmFkZCh0KX0sci5wcm90b3R5cGUub25kZWNvZGVkPWZ1bmN0aW9uKHQpe3RoaXMuZW1pdChcInBhY2tldFwiLHQpfSxyLnByb3RvdHlwZS5vbmVycm9yPWZ1bmN0aW9uKHQpe2goXCJlcnJvclwiLHQpLHRoaXMuZW1pdEFsbChcImVycm9yXCIsdCl9LHIucHJvdG90eXBlLnNvY2tldD1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXt+ZihvLmNvbm5lY3Rpbmcscil8fG8uY29ubmVjdGluZy5wdXNoKHIpfXZhciByPXRoaXMubnNwc1t0XTtpZighcil7cj1uZXcgcyh0aGlzLHQsZSksdGhpcy5uc3BzW3RdPXI7dmFyIG89dGhpcztyLm9uKFwiY29ubmVjdGluZ1wiLG4pLHIub24oXCJjb25uZWN0XCIsZnVuY3Rpb24oKXtyLmlkPW8uZ2VuZXJhdGVJZCh0KX0pLHRoaXMuYXV0b0Nvbm5lY3QmJm4oKX1yZXR1cm4gcn0sci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbih0KXt2YXIgZT1mKHRoaXMuY29ubmVjdGluZyx0KTt+ZSYmdGhpcy5jb25uZWN0aW5nLnNwbGljZShlLDEpLHRoaXMuY29ubmVjdGluZy5sZW5ndGh8fHRoaXMuY2xvc2UoKX0sci5wcm90b3R5cGUucGFja2V0PWZ1bmN0aW9uKHQpe2goXCJ3cml0aW5nIHBhY2tldCAlalwiLHQpO3ZhciBlPXRoaXM7dC5xdWVyeSYmMD09PXQudHlwZSYmKHQubnNwKz1cIj9cIit0LnF1ZXJ5KSxlLmVuY29kaW5nP2UucGFja2V0QnVmZmVyLnB1c2godCk6KGUuZW5jb2Rpbmc9ITAsdGhpcy5lbmNvZGVyLmVuY29kZSh0LGZ1bmN0aW9uKG4pe2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKWUuZW5naW5lLndyaXRlKG5bcl0sdC5vcHRpb25zKTtlLmVuY29kaW5nPSExLGUucHJvY2Vzc1BhY2tldFF1ZXVlKCl9KSl9LHIucHJvdG90eXBlLnByb2Nlc3NQYWNrZXRRdWV1ZT1mdW5jdGlvbigpe2lmKHRoaXMucGFja2V0QnVmZmVyLmxlbmd0aD4wJiYhdGhpcy5lbmNvZGluZyl7dmFyIHQ9dGhpcy5wYWNrZXRCdWZmZXIuc2hpZnQoKTt0aGlzLnBhY2tldCh0KX19LHIucHJvdG90eXBlLmNsZWFudXA9ZnVuY3Rpb24oKXtoKFwiY2xlYW51cFwiKTtmb3IodmFyIHQ9dGhpcy5zdWJzLmxlbmd0aCxlPTA7ZTx0O2UrKyl7dmFyIG49dGhpcy5zdWJzLnNoaWZ0KCk7bi5kZXN0cm95KCl9dGhpcy5wYWNrZXRCdWZmZXI9W10sdGhpcy5lbmNvZGluZz0hMSx0aGlzLmxhc3RQaW5nPW51bGwsdGhpcy5kZWNvZGVyLmRlc3Ryb3koKX0sci5wcm90b3R5cGUuY2xvc2U9ci5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbigpe2goXCJkaXNjb25uZWN0XCIpLHRoaXMuc2tpcFJlY29ubmVjdD0hMCx0aGlzLnJlY29ubmVjdGluZz0hMSxcIm9wZW5pbmdcIj09PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy5jbGVhbnVwKCksdGhpcy5iYWNrb2ZmLnJlc2V0KCksdGhpcy5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy5lbmdpbmUmJnRoaXMuZW5naW5lLmNsb3NlKCl9LHIucHJvdG90eXBlLm9uY2xvc2U9ZnVuY3Rpb24odCl7aChcIm9uY2xvc2VcIiksdGhpcy5jbGVhbnVwKCksdGhpcy5iYWNrb2ZmLnJlc2V0KCksdGhpcy5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy5lbWl0KFwiY2xvc2VcIix0KSx0aGlzLl9yZWNvbm5lY3Rpb24mJiF0aGlzLnNraXBSZWNvbm5lY3QmJnRoaXMucmVjb25uZWN0KCl9LHIucHJvdG90eXBlLnJlY29ubmVjdD1mdW5jdGlvbigpe2lmKHRoaXMucmVjb25uZWN0aW5nfHx0aGlzLnNraXBSZWNvbm5lY3QpcmV0dXJuIHRoaXM7dmFyIHQ9dGhpcztpZih0aGlzLmJhY2tvZmYuYXR0ZW1wdHM+PXRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzKWgoXCJyZWNvbm5lY3QgZmFpbGVkXCIpLHRoaXMuYmFja29mZi5yZXNldCgpLHRoaXMuZW1pdEFsbChcInJlY29ubmVjdF9mYWlsZWRcIiksdGhpcy5yZWNvbm5lY3Rpbmc9ITE7ZWxzZXt2YXIgZT10aGlzLmJhY2tvZmYuZHVyYXRpb24oKTtoKFwid2lsbCB3YWl0ICVkbXMgYmVmb3JlIHJlY29ubmVjdCBhdHRlbXB0XCIsZSksdGhpcy5yZWNvbm5lY3Rpbmc9ITA7dmFyIG49c2V0VGltZW91dChmdW5jdGlvbigpe3Quc2tpcFJlY29ubmVjdHx8KGgoXCJhdHRlbXB0aW5nIHJlY29ubmVjdFwiKSx0LmVtaXRBbGwoXCJyZWNvbm5lY3RfYXR0ZW1wdFwiLHQuYmFja29mZi5hdHRlbXB0cyksdC5lbWl0QWxsKFwicmVjb25uZWN0aW5nXCIsdC5iYWNrb2ZmLmF0dGVtcHRzKSx0LnNraXBSZWNvbm5lY3R8fHQub3BlbihmdW5jdGlvbihlKXtlPyhoKFwicmVjb25uZWN0IGF0dGVtcHQgZXJyb3JcIiksdC5yZWNvbm5lY3Rpbmc9ITEsdC5yZWNvbm5lY3QoKSx0LmVtaXRBbGwoXCJyZWNvbm5lY3RfZXJyb3JcIixlLmRhdGEpKTooaChcInJlY29ubmVjdCBzdWNjZXNzXCIpLHQub25yZWNvbm5lY3QoKSl9KSl9LGUpO3RoaXMuc3Vicy5wdXNoKHtkZXN0cm95OmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KG4pfX0pfX0sci5wcm90b3R5cGUub25yZWNvbm5lY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJhY2tvZmYuYXR0ZW1wdHM7dGhpcy5yZWNvbm5lY3Rpbmc9ITEsdGhpcy5iYWNrb2ZmLnJlc2V0KCksdGhpcy51cGRhdGVTb2NrZXRJZHMoKSx0aGlzLmVtaXRBbGwoXCJyZWNvbm5lY3RcIix0KX19LGZ1bmN0aW9uKHQsZSxuKXt0LmV4cG9ydHM9bigxNSksdC5leHBvcnRzLnBhcnNlcj1uKDIyKX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKHQsbil7aWYoISh0aGlzIGluc3RhbmNlb2YgcikpcmV0dXJuIG5ldyByKHQsbik7bj1ufHx7fSx0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmKG49dCx0PW51bGwpLHQ/KHQ9dSh0KSxuLmhvc3RuYW1lPXQuaG9zdCxuLnNlY3VyZT1cImh0dHBzXCI9PT10LnByb3RvY29sfHxcIndzc1wiPT09dC5wcm90b2NvbCxuLnBvcnQ9dC5wb3J0LHQucXVlcnkmJihuLnF1ZXJ5PXQucXVlcnkpKTpuLmhvc3QmJihuLmhvc3RuYW1lPXUobi5ob3N0KS5ob3N0KSx0aGlzLnNlY3VyZT1udWxsIT1uLnNlY3VyZT9uLnNlY3VyZTplLmxvY2F0aW9uJiZcImh0dHBzOlwiPT09bG9jYXRpb24ucHJvdG9jb2wsbi5ob3N0bmFtZSYmIW4ucG9ydCYmKG4ucG9ydD10aGlzLnNlY3VyZT9cIjQ0M1wiOlwiODBcIiksdGhpcy5hZ2VudD1uLmFnZW50fHwhMSx0aGlzLmhvc3RuYW1lPW4uaG9zdG5hbWV8fChlLmxvY2F0aW9uP2xvY2F0aW9uLmhvc3RuYW1lOlwibG9jYWxob3N0XCIpLHRoaXMucG9ydD1uLnBvcnR8fChlLmxvY2F0aW9uJiZsb2NhdGlvbi5wb3J0P2xvY2F0aW9uLnBvcnQ6dGhpcy5zZWN1cmU/NDQzOjgwKSx0aGlzLnF1ZXJ5PW4ucXVlcnl8fHt9LFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnF1ZXJ5JiYodGhpcy5xdWVyeT1oLmRlY29kZSh0aGlzLnF1ZXJ5KSksdGhpcy51cGdyYWRlPSExIT09bi51cGdyYWRlLHRoaXMucGF0aD0obi5wYXRofHxcIi9lbmdpbmUuaW9cIikucmVwbGFjZSgvXFwvJC8sXCJcIikrXCIvXCIsdGhpcy5mb3JjZUpTT05QPSEhbi5mb3JjZUpTT05QLHRoaXMuanNvbnA9ITEhPT1uLmpzb25wLHRoaXMuZm9yY2VCYXNlNjQ9ISFuLmZvcmNlQmFzZTY0LHRoaXMuZW5hYmxlc1hEUj0hIW4uZW5hYmxlc1hEUix0aGlzLnRpbWVzdGFtcFBhcmFtPW4udGltZXN0YW1wUGFyYW18fFwidFwiLHRoaXMudGltZXN0YW1wUmVxdWVzdHM9bi50aW1lc3RhbXBSZXF1ZXN0cyx0aGlzLnRyYW5zcG9ydHM9bi50cmFuc3BvcnRzfHxbXCJwb2xsaW5nXCIsXCJ3ZWJzb2NrZXRcIl0sdGhpcy50cmFuc3BvcnRPcHRpb25zPW4udHJhbnNwb3J0T3B0aW9uc3x8e30sdGhpcy5yZWFkeVN0YXRlPVwiXCIsdGhpcy53cml0ZUJ1ZmZlcj1bXSx0aGlzLnByZXZCdWZmZXJMZW49MCx0aGlzLnBvbGljeVBvcnQ9bi5wb2xpY3lQb3J0fHw4NDMsdGhpcy5yZW1lbWJlclVwZ3JhZGU9bi5yZW1lbWJlclVwZ3JhZGV8fCExLHRoaXMuYmluYXJ5VHlwZT1udWxsLHRoaXMub25seUJpbmFyeVVwZ3JhZGVzPW4ub25seUJpbmFyeVVwZ3JhZGVzLHRoaXMucGVyTWVzc2FnZURlZmxhdGU9ITEhPT1uLnBlck1lc3NhZ2VEZWZsYXRlJiYobi5wZXJNZXNzYWdlRGVmbGF0ZXx8e30pLCEwPT09dGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSYmKHRoaXMucGVyTWVzc2FnZURlZmxhdGU9e30pLHRoaXMucGVyTWVzc2FnZURlZmxhdGUmJm51bGw9PXRoaXMucGVyTWVzc2FnZURlZmxhdGUudGhyZXNob2xkJiYodGhpcy5wZXJNZXNzYWdlRGVmbGF0ZS50aHJlc2hvbGQ9MTAyNCksdGhpcy5wZng9bi5wZnh8fG51bGwsdGhpcy5rZXk9bi5rZXl8fG51bGwsdGhpcy5wYXNzcGhyYXNlPW4ucGFzc3BocmFzZXx8bnVsbCx0aGlzLmNlcnQ9bi5jZXJ0fHxudWxsLHRoaXMuY2E9bi5jYXx8bnVsbCx0aGlzLmNpcGhlcnM9bi5jaXBoZXJzfHxudWxsLHRoaXMucmVqZWN0VW5hdXRob3JpemVkPXZvaWQgMD09PW4ucmVqZWN0VW5hdXRob3JpemVkfHxuLnJlamVjdFVuYXV0aG9yaXplZCx0aGlzLmZvcmNlTm9kZT0hIW4uZm9yY2VOb2RlO3ZhciBvPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlO28uZ2xvYmFsPT09byYmKG4uZXh0cmFIZWFkZXJzJiZPYmplY3Qua2V5cyhuLmV4dHJhSGVhZGVycykubGVuZ3RoPjAmJih0aGlzLmV4dHJhSGVhZGVycz1uLmV4dHJhSGVhZGVycyksbi5sb2NhbEFkZHJlc3MmJih0aGlzLmxvY2FsQWRkcmVzcz1uLmxvY2FsQWRkcmVzcykpLHRoaXMuaWQ9bnVsbCx0aGlzLnVwZ3JhZGVzPW51bGwsdGhpcy5waW5nSW50ZXJ2YWw9bnVsbCx0aGlzLnBpbmdUaW1lb3V0PW51bGwsdGhpcy5waW5nSW50ZXJ2YWxUaW1lcj1udWxsLHRoaXMucGluZ1RpbWVvdXRUaW1lcj1udWxsLHRoaXMub3BlbigpfWZ1bmN0aW9uIG8odCl7dmFyIGU9e307Zm9yKHZhciBuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09dFtuXSk7cmV0dXJuIGV9dmFyIGk9bigxNikscz1uKDgpLGE9bigzKShcImVuZ2luZS5pby1jbGllbnQ6c29ja2V0XCIpLGM9bigzNikscD1uKDIyKSx1PW4oMiksaD1uKDMwKTt0LmV4cG9ydHM9cixyLnByaW9yV2Vic29ja2V0U3VjY2Vzcz0hMSxzKHIucHJvdG90eXBlKSxyLnByb3RvY29sPXAucHJvdG9jb2wsci5Tb2NrZXQ9cixyLlRyYW5zcG9ydD1uKDIxKSxyLnRyYW5zcG9ydHM9bigxNiksci5wYXJzZXI9bigyMiksci5wcm90b3R5cGUuY3JlYXRlVHJhbnNwb3J0PWZ1bmN0aW9uKHQpe2EoJ2NyZWF0aW5nIHRyYW5zcG9ydCBcIiVzXCInLHQpO3ZhciBlPW8odGhpcy5xdWVyeSk7ZS5FSU89cC5wcm90b2NvbCxlLnRyYW5zcG9ydD10O3ZhciBuPXRoaXMudHJhbnNwb3J0T3B0aW9uc1t0XXx8e307dGhpcy5pZCYmKGUuc2lkPXRoaXMuaWQpO3ZhciByPW5ldyBpW3RdKHtxdWVyeTplLHNvY2tldDp0aGlzLGFnZW50Om4uYWdlbnR8fHRoaXMuYWdlbnQsaG9zdG5hbWU6bi5ob3N0bmFtZXx8dGhpcy5ob3N0bmFtZSxwb3J0Om4ucG9ydHx8dGhpcy5wb3J0LHNlY3VyZTpuLnNlY3VyZXx8dGhpcy5zZWN1cmUscGF0aDpuLnBhdGh8fHRoaXMucGF0aCxmb3JjZUpTT05QOm4uZm9yY2VKU09OUHx8dGhpcy5mb3JjZUpTT05QLGpzb25wOm4uanNvbnB8fHRoaXMuanNvbnAsZm9yY2VCYXNlNjQ6bi5mb3JjZUJhc2U2NHx8dGhpcy5mb3JjZUJhc2U2NCxlbmFibGVzWERSOm4uZW5hYmxlc1hEUnx8dGhpcy5lbmFibGVzWERSLHRpbWVzdGFtcFJlcXVlc3RzOm4udGltZXN0YW1wUmVxdWVzdHN8fHRoaXMudGltZXN0YW1wUmVxdWVzdHMsdGltZXN0YW1wUGFyYW06bi50aW1lc3RhbXBQYXJhbXx8dGhpcy50aW1lc3RhbXBQYXJhbSxwb2xpY3lQb3J0Om4ucG9saWN5UG9ydHx8dGhpcy5wb2xpY3lQb3J0LHBmeDpuLnBmeHx8dGhpcy5wZngsa2V5Om4ua2V5fHx0aGlzLmtleSxwYXNzcGhyYXNlOm4ucGFzc3BocmFzZXx8dGhpcy5wYXNzcGhyYXNlLGNlcnQ6bi5jZXJ0fHx0aGlzLmNlcnQsY2E6bi5jYXx8dGhpcy5jYSxjaXBoZXJzOm4uY2lwaGVyc3x8dGhpcy5jaXBoZXJzLHJlamVjdFVuYXV0aG9yaXplZDpuLnJlamVjdFVuYXV0aG9yaXplZHx8dGhpcy5yZWplY3RVbmF1dGhvcml6ZWQscGVyTWVzc2FnZURlZmxhdGU6bi5wZXJNZXNzYWdlRGVmbGF0ZXx8dGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSxleHRyYUhlYWRlcnM6bi5leHRyYUhlYWRlcnN8fHRoaXMuZXh0cmFIZWFkZXJzLGZvcmNlTm9kZTpuLmZvcmNlTm9kZXx8dGhpcy5mb3JjZU5vZGUsbG9jYWxBZGRyZXNzOm4ubG9jYWxBZGRyZXNzfHx0aGlzLmxvY2FsQWRkcmVzcyxyZXF1ZXN0VGltZW91dDpuLnJlcXVlc3RUaW1lb3V0fHx0aGlzLnJlcXVlc3RUaW1lb3V0LHByb3RvY29sczpuLnByb3RvY29sc3x8dm9pZCAwfSk7cmV0dXJuIHJ9LHIucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLnJlbWVtYmVyVXBncmFkZSYmci5wcmlvcldlYnNvY2tldFN1Y2Nlc3MmJnRoaXMudHJhbnNwb3J0cy5pbmRleE9mKFwid2Vic29ja2V0XCIpIT09LTEpdD1cIndlYnNvY2tldFwiO2Vsc2V7aWYoMD09PXRoaXMudHJhbnNwb3J0cy5sZW5ndGgpe3ZhciBlPXRoaXM7cmV0dXJuIHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe2UuZW1pdChcImVycm9yXCIsXCJObyB0cmFuc3BvcnRzIGF2YWlsYWJsZVwiKX0sMCl9dD10aGlzLnRyYW5zcG9ydHNbMF19dGhpcy5yZWFkeVN0YXRlPVwib3BlbmluZ1wiO3RyeXt0PXRoaXMuY3JlYXRlVHJhbnNwb3J0KHQpfWNhdGNoKG4pe3JldHVybiB0aGlzLnRyYW5zcG9ydHMuc2hpZnQoKSx2b2lkIHRoaXMub3BlbigpfXQub3BlbigpLHRoaXMuc2V0VHJhbnNwb3J0KHQpfSxyLnByb3RvdHlwZS5zZXRUcmFuc3BvcnQ9ZnVuY3Rpb24odCl7YShcInNldHRpbmcgdHJhbnNwb3J0ICVzXCIsdC5uYW1lKTt2YXIgZT10aGlzO3RoaXMudHJhbnNwb3J0JiYoYShcImNsZWFyaW5nIGV4aXN0aW5nIHRyYW5zcG9ydCAlc1wiLHRoaXMudHJhbnNwb3J0Lm5hbWUpLHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpKSx0aGlzLnRyYW5zcG9ydD10LHQub24oXCJkcmFpblwiLGZ1bmN0aW9uKCl7ZS5vbkRyYWluKCl9KS5vbihcInBhY2tldFwiLGZ1bmN0aW9uKHQpe2Uub25QYWNrZXQodCl9KS5vbihcImVycm9yXCIsZnVuY3Rpb24odCl7ZS5vbkVycm9yKHQpfSkub24oXCJjbG9zZVwiLGZ1bmN0aW9uKCl7ZS5vbkNsb3NlKFwidHJhbnNwb3J0IGNsb3NlXCIpfSl9LHIucHJvdG90eXBlLnByb2JlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpZihmLm9ubHlCaW5hcnlVcGdyYWRlcyl7dmFyIGU9IXRoaXMuc3VwcG9ydHNCaW5hcnkmJmYudHJhbnNwb3J0LnN1cHBvcnRzQmluYXJ5O2g9aHx8ZX1ofHwoYSgncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBvcGVuZWQnLHQpLHUuc2VuZChbe3R5cGU6XCJwaW5nXCIsZGF0YTpcInByb2JlXCJ9XSksdS5vbmNlKFwicGFja2V0XCIsZnVuY3Rpb24oZSl7aWYoIWgpaWYoXCJwb25nXCI9PT1lLnR5cGUmJlwicHJvYmVcIj09PWUuZGF0YSl7aWYoYSgncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBwb25nJyx0KSxmLnVwZ3JhZGluZz0hMCxmLmVtaXQoXCJ1cGdyYWRpbmdcIix1KSwhdSlyZXR1cm47ci5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9XCJ3ZWJzb2NrZXRcIj09PXUubmFtZSxhKCdwYXVzaW5nIGN1cnJlbnQgdHJhbnNwb3J0IFwiJXNcIicsZi50cmFuc3BvcnQubmFtZSksZi50cmFuc3BvcnQucGF1c2UoZnVuY3Rpb24oKXtofHxcImNsb3NlZFwiIT09Zi5yZWFkeVN0YXRlJiYoYShcImNoYW5naW5nIHRyYW5zcG9ydCBhbmQgc2VuZGluZyB1cGdyYWRlIHBhY2tldFwiKSxwKCksZi5zZXRUcmFuc3BvcnQodSksdS5zZW5kKFt7dHlwZTpcInVwZ3JhZGVcIn1dKSxmLmVtaXQoXCJ1cGdyYWRlXCIsdSksdT1udWxsLGYudXBncmFkaW5nPSExLGYuZmx1c2goKSl9KX1lbHNle2EoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgZmFpbGVkJyx0KTt2YXIgbj1uZXcgRXJyb3IoXCJwcm9iZSBlcnJvclwiKTtuLnRyYW5zcG9ydD11Lm5hbWUsZi5lbWl0KFwidXBncmFkZUVycm9yXCIsbil9fSkpfWZ1bmN0aW9uIG4oKXtofHwoaD0hMCxwKCksdS5jbG9zZSgpLHU9bnVsbCl9ZnVuY3Rpb24gbyhlKXt2YXIgcj1uZXcgRXJyb3IoXCJwcm9iZSBlcnJvcjogXCIrZSk7ci50cmFuc3BvcnQ9dS5uYW1lLG4oKSxhKCdwcm9iZSB0cmFuc3BvcnQgXCIlc1wiIGZhaWxlZCBiZWNhdXNlIG9mIGVycm9yOiAlcycsdCxlKSxmLmVtaXQoXCJ1cGdyYWRlRXJyb3JcIixyKX1mdW5jdGlvbiBpKCl7byhcInRyYW5zcG9ydCBjbG9zZWRcIil9ZnVuY3Rpb24gcygpe28oXCJzb2NrZXQgY2xvc2VkXCIpfWZ1bmN0aW9uIGModCl7dSYmdC5uYW1lIT09dS5uYW1lJiYoYSgnXCIlc1wiIHdvcmtzIC0gYWJvcnRpbmcgXCIlc1wiJyx0Lm5hbWUsdS5uYW1lKSxuKCkpfWZ1bmN0aW9uIHAoKXt1LnJlbW92ZUxpc3RlbmVyKFwib3BlblwiLGUpLHUucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLG8pLHUucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGkpLGYucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLHMpLGYucmVtb3ZlTGlzdGVuZXIoXCJ1cGdyYWRpbmdcIixjKX1hKCdwcm9iaW5nIHRyYW5zcG9ydCBcIiVzXCInLHQpO3ZhciB1PXRoaXMuY3JlYXRlVHJhbnNwb3J0KHQse3Byb2JlOjF9KSxoPSExLGY9dGhpcztyLnByaW9yV2Vic29ja2V0U3VjY2Vzcz0hMSx1Lm9uY2UoXCJvcGVuXCIsZSksdS5vbmNlKFwiZXJyb3JcIixvKSx1Lm9uY2UoXCJjbG9zZVwiLGkpLHRoaXMub25jZShcImNsb3NlXCIscyksdGhpcy5vbmNlKFwidXBncmFkaW5nXCIsYyksdS5vcGVuKCl9LHIucHJvdG90eXBlLm9uT3Blbj1mdW5jdGlvbigpe2lmKGEoXCJzb2NrZXQgb3BlblwiKSx0aGlzLnJlYWR5U3RhdGU9XCJvcGVuXCIsci5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9XCJ3ZWJzb2NrZXRcIj09PXRoaXMudHJhbnNwb3J0Lm5hbWUsdGhpcy5lbWl0KFwib3BlblwiKSx0aGlzLmZsdXNoKCksXCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGUmJnRoaXMudXBncmFkZSYmdGhpcy50cmFuc3BvcnQucGF1c2Upe2EoXCJzdGFydGluZyB1cGdyYWRlIHByb2Jlc1wiKTtmb3IodmFyIHQ9MCxlPXRoaXMudXBncmFkZXMubGVuZ3RoO3Q8ZTt0KyspdGhpcy5wcm9iZSh0aGlzLnVwZ3JhZGVzW3RdKX19LHIucHJvdG90eXBlLm9uUGFja2V0PWZ1bmN0aW9uKHQpe2lmKFwib3BlbmluZ1wiPT09dGhpcy5yZWFkeVN0YXRlfHxcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJjbG9zaW5nXCI9PT10aGlzLnJlYWR5U3RhdGUpc3dpdGNoKGEoJ3NvY2tldCByZWNlaXZlOiB0eXBlIFwiJXNcIiwgZGF0YSBcIiVzXCInLHQudHlwZSx0LmRhdGEpLHRoaXMuZW1pdChcInBhY2tldFwiLHQpLHRoaXMuZW1pdChcImhlYXJ0YmVhdFwiKSx0LnR5cGUpe2Nhc2VcIm9wZW5cIjp0aGlzLm9uSGFuZHNoYWtlKEpTT04ucGFyc2UodC5kYXRhKSk7YnJlYWs7Y2FzZVwicG9uZ1wiOnRoaXMuc2V0UGluZygpLHRoaXMuZW1pdChcInBvbmdcIik7YnJlYWs7Y2FzZVwiZXJyb3JcIjp2YXIgZT1uZXcgRXJyb3IoXCJzZXJ2ZXIgZXJyb3JcIik7ZS5jb2RlPXQuZGF0YSx0aGlzLm9uRXJyb3IoZSk7YnJlYWs7Y2FzZVwibWVzc2FnZVwiOnRoaXMuZW1pdChcImRhdGFcIix0LmRhdGEpLHRoaXMuZW1pdChcIm1lc3NhZ2VcIix0LmRhdGEpfWVsc2UgYSgncGFja2V0IHJlY2VpdmVkIHdpdGggc29ja2V0IHJlYWR5U3RhdGUgXCIlc1wiJyx0aGlzLnJlYWR5U3RhdGUpfSxyLnByb3RvdHlwZS5vbkhhbmRzaGFrZT1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJoYW5kc2hha2VcIix0KSx0aGlzLmlkPXQuc2lkLHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZD10LnNpZCx0aGlzLnVwZ3JhZGVzPXRoaXMuZmlsdGVyVXBncmFkZXModC51cGdyYWRlcyksdGhpcy5waW5nSW50ZXJ2YWw9dC5waW5nSW50ZXJ2YWwsdGhpcy5waW5nVGltZW91dD10LnBpbmdUaW1lb3V0LHRoaXMub25PcGVuKCksXCJjbG9zZWRcIiE9PXRoaXMucmVhZHlTdGF0ZSYmKHRoaXMuc2V0UGluZygpLHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJoZWFydGJlYXRcIix0aGlzLm9uSGVhcnRiZWF0KSx0aGlzLm9uKFwiaGVhcnRiZWF0XCIsdGhpcy5vbkhlYXJ0YmVhdCkpfSxyLnByb3RvdHlwZS5vbkhlYXJ0YmVhdD1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dFRpbWVyKTt2YXIgZT10aGlzO2UucGluZ1RpbWVvdXRUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XCJjbG9zZWRcIiE9PWUucmVhZHlTdGF0ZSYmZS5vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpfSx0fHxlLnBpbmdJbnRlcnZhbCtlLnBpbmdUaW1lb3V0KX0sci5wcm90b3R5cGUuc2V0UGluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7Y2xlYXJUaW1lb3V0KHQucGluZ0ludGVydmFsVGltZXIpLHQucGluZ0ludGVydmFsVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2EoXCJ3cml0aW5nIHBpbmcgcGFja2V0IC0gZXhwZWN0aW5nIHBvbmcgd2l0aGluICVzbXNcIix0LnBpbmdUaW1lb3V0KSx0LnBpbmcoKSx0Lm9uSGVhcnRiZWF0KHQucGluZ1RpbWVvdXQpfSx0LnBpbmdJbnRlcnZhbCl9LHIucHJvdG90eXBlLnBpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc2VuZFBhY2tldChcInBpbmdcIixmdW5jdGlvbigpe3QuZW1pdChcInBpbmdcIil9KX0sci5wcm90b3R5cGUub25EcmFpbj1mdW5jdGlvbigpe3RoaXMud3JpdGVCdWZmZXIuc3BsaWNlKDAsdGhpcy5wcmV2QnVmZmVyTGVuKSx0aGlzLnByZXZCdWZmZXJMZW49MCwwPT09dGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg/dGhpcy5lbWl0KFwiZHJhaW5cIik6dGhpcy5mbHVzaCgpfSxyLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe1wiY2xvc2VkXCIhPT10aGlzLnJlYWR5U3RhdGUmJnRoaXMudHJhbnNwb3J0LndyaXRhYmxlJiYhdGhpcy51cGdyYWRpbmcmJnRoaXMud3JpdGVCdWZmZXIubGVuZ3RoJiYoYShcImZsdXNoaW5nICVkIHBhY2tldHMgaW4gc29ja2V0XCIsdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpLHRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy53cml0ZUJ1ZmZlciksdGhpcy5wcmV2QnVmZmVyTGVuPXRoaXMud3JpdGVCdWZmZXIubGVuZ3RoLHRoaXMuZW1pdChcImZsdXNoXCIpKX0sci5wcm90b3R5cGUud3JpdGU9ci5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuc2VuZFBhY2tldChcIm1lc3NhZ2VcIix0LGUsbiksdGhpc30sci5wcm90b3R5cGUuc2VuZFBhY2tldD1mdW5jdGlvbih0LGUsbixyKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYocj1lLGU9dm9pZCAwKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYocj1uLG49bnVsbCksXCJjbG9zaW5nXCIhPT10aGlzLnJlYWR5U3RhdGUmJlwiY2xvc2VkXCIhPT10aGlzLnJlYWR5U3RhdGUpe249bnx8e30sbi5jb21wcmVzcz0hMSE9PW4uY29tcHJlc3M7dmFyIG89e3R5cGU6dCxkYXRhOmUsb3B0aW9uczpufTt0aGlzLmVtaXQoXCJwYWNrZXRDcmVhdGVcIixvKSx0aGlzLndyaXRlQnVmZmVyLnB1c2gobyksciYmdGhpcy5vbmNlKFwiZmx1c2hcIixyKSx0aGlzLmZsdXNoKCl9fSxyLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtyLm9uQ2xvc2UoXCJmb3JjZWQgY2xvc2VcIiksYShcInNvY2tldCBjbG9zaW5nIC0gdGVsbGluZyB0cmFuc3BvcnQgdG8gY2xvc2VcIiksci50cmFuc3BvcnQuY2xvc2UoKX1mdW5jdGlvbiBlKCl7ci5yZW1vdmVMaXN0ZW5lcihcInVwZ3JhZGVcIixlKSxyLnJlbW92ZUxpc3RlbmVyKFwidXBncmFkZUVycm9yXCIsZSksdCgpfWZ1bmN0aW9uIG4oKXtyLm9uY2UoXCJ1cGdyYWRlXCIsZSksci5vbmNlKFwidXBncmFkZUVycm9yXCIsZSl9aWYoXCJvcGVuaW5nXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlKXt0aGlzLnJlYWR5U3RhdGU9XCJjbG9zaW5nXCI7dmFyIHI9dGhpczt0aGlzLndyaXRlQnVmZmVyLmxlbmd0aD90aGlzLm9uY2UoXCJkcmFpblwiLGZ1bmN0aW9uKCl7dGhpcy51cGdyYWRpbmc/bigpOnQoKX0pOnRoaXMudXBncmFkaW5nP24oKTp0KCl9cmV0dXJuIHRoaXN9LHIucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24odCl7YShcInNvY2tldCBlcnJvciAlalwiLHQpLHIucHJpb3JXZWJzb2NrZXRTdWNjZXNzPSExLHRoaXMuZW1pdChcImVycm9yXCIsdCksdGhpcy5vbkNsb3NlKFwidHJhbnNwb3J0IGVycm9yXCIsdCl9LHIucHJvdG90eXBlLm9uQ2xvc2U9ZnVuY3Rpb24odCxlKXtpZihcIm9wZW5pbmdcIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwiY2xvc2luZ1wiPT09dGhpcy5yZWFkeVN0YXRlKXthKCdzb2NrZXQgY2xvc2Ugd2l0aCByZWFzb246IFwiJXNcIicsdCk7dmFyIG49dGhpcztjbGVhclRpbWVvdXQodGhpcy5waW5nSW50ZXJ2YWxUaW1lciksY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXRUaW1lciksdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKFwiY2xvc2VcIiksdGhpcy50cmFuc3BvcnQuY2xvc2UoKSx0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnJlYWR5U3RhdGU9XCJjbG9zZWRcIix0aGlzLmlkPW51bGwsdGhpcy5lbWl0KFwiY2xvc2VcIix0LGUpLG4ud3JpdGVCdWZmZXI9W10sbi5wcmV2QnVmZmVyTGVuPTB9fSxyLnByb3RvdHlwZS5maWx0ZXJVcGdyYWRlcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9dC5sZW5ndGg7bjxyO24rKyl+Yyh0aGlzLnRyYW5zcG9ydHMsdFtuXSkmJmUucHVzaCh0W25dKTtyZXR1cm4gZX19KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihlKXt2YXIgbixyPSExLGE9ITEsYz0hMSE9PWUuanNvbnA7aWYodC5sb2NhdGlvbil7dmFyIHA9XCJodHRwczpcIj09PWxvY2F0aW9uLnByb3RvY29sLHU9bG9jYXRpb24ucG9ydDt1fHwodT1wPzQ0Mzo4MCkscj1lLmhvc3RuYW1lIT09bG9jYXRpb24uaG9zdG5hbWV8fHUhPT1lLnBvcnQsYT1lLnNlY3VyZSE9PXB9aWYoZS54ZG9tYWluPXIsZS54c2NoZW1lPWEsbj1uZXcgbyhlKSxcIm9wZW5cImluIG4mJiFlLmZvcmNlSlNPTlApcmV0dXJuIG5ldyBpKGUpO2lmKCFjKXRocm93IG5ldyBFcnJvcihcIkpTT05QIGRpc2FibGVkXCIpO3JldHVybiBuZXcgcyhlKX12YXIgbz1uKDE3KSxpPW4oMTkpLHM9bigzMyksYT1uKDM0KTtlLnBvbGxpbmc9cixlLndlYnNvY2tldD1hfSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe3ZhciByPW4oMTgpO3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgbj10Lnhkb21haW4sbz10LnhzY2hlbWUsaT10LmVuYWJsZXNYRFI7dHJ5e2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmKCFufHxyKSlyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fWNhdGNoKHMpe310cnl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhEb21haW5SZXF1ZXN0JiYhbyYmaSlyZXR1cm4gbmV3IFhEb21haW5SZXF1ZXN0fWNhdGNoKHMpe31pZighbil0cnl7cmV0dXJuIG5ldyhlW1tcIkFjdGl2ZVwiXS5jb25jYXQoXCJPYmplY3RcIikuam9pbihcIlhcIildKShcIk1pY3Jvc29mdC5YTUxIVFRQXCIpO1xufWNhdGNoKHMpe319fSkuY2FsbChlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbih0LGUpe3RyeXt0LmV4cG9ydHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0JiZcIndpdGhDcmVkZW50aWFsc1wiaW4gbmV3IFhNTEh0dHBSZXF1ZXN0fWNhdGNoKG4pe3QuZXhwb3J0cz0hMX19LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBvKHQpe2lmKGMuY2FsbCh0aGlzLHQpLHRoaXMucmVxdWVzdFRpbWVvdXQ9dC5yZXF1ZXN0VGltZW91dCx0aGlzLmV4dHJhSGVhZGVycz10LmV4dHJhSGVhZGVycyxlLmxvY2F0aW9uKXt2YXIgbj1cImh0dHBzOlwiPT09bG9jYXRpb24ucHJvdG9jb2wscj1sb2NhdGlvbi5wb3J0O3J8fChyPW4/NDQzOjgwKSx0aGlzLnhkPXQuaG9zdG5hbWUhPT1lLmxvY2F0aW9uLmhvc3RuYW1lfHxyIT09dC5wb3J0LHRoaXMueHM9dC5zZWN1cmUhPT1ufX1mdW5jdGlvbiBpKHQpe3RoaXMubWV0aG9kPXQubWV0aG9kfHxcIkdFVFwiLHRoaXMudXJpPXQudXJpLHRoaXMueGQ9ISF0LnhkLHRoaXMueHM9ISF0LnhzLHRoaXMuYXN5bmM9ITEhPT10LmFzeW5jLHRoaXMuZGF0YT12b2lkIDAhPT10LmRhdGE/dC5kYXRhOm51bGwsdGhpcy5hZ2VudD10LmFnZW50LHRoaXMuaXNCaW5hcnk9dC5pc0JpbmFyeSx0aGlzLnN1cHBvcnRzQmluYXJ5PXQuc3VwcG9ydHNCaW5hcnksdGhpcy5lbmFibGVzWERSPXQuZW5hYmxlc1hEUix0aGlzLnJlcXVlc3RUaW1lb3V0PXQucmVxdWVzdFRpbWVvdXQsdGhpcy5wZng9dC5wZngsdGhpcy5rZXk9dC5rZXksdGhpcy5wYXNzcGhyYXNlPXQucGFzc3BocmFzZSx0aGlzLmNlcnQ9dC5jZXJ0LHRoaXMuY2E9dC5jYSx0aGlzLmNpcGhlcnM9dC5jaXBoZXJzLHRoaXMucmVqZWN0VW5hdXRob3JpemVkPXQucmVqZWN0VW5hdXRob3JpemVkLHRoaXMuZXh0cmFIZWFkZXJzPXQuZXh0cmFIZWFkZXJzLHRoaXMuY3JlYXRlKCl9ZnVuY3Rpb24gcygpe2Zvcih2YXIgdCBpbiBpLnJlcXVlc3RzKWkucmVxdWVzdHMuaGFzT3duUHJvcGVydHkodCkmJmkucmVxdWVzdHNbdF0uYWJvcnQoKX12YXIgYT1uKDE3KSxjPW4oMjApLHA9big4KSx1PW4oMzEpLGg9bigzKShcImVuZ2luZS5pby1jbGllbnQ6cG9sbGluZy14aHJcIik7dC5leHBvcnRzPW8sdC5leHBvcnRzLlJlcXVlc3Q9aSx1KG8sYyksby5wcm90b3R5cGUuc3VwcG9ydHNCaW5hcnk9ITAsby5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbih0KXtyZXR1cm4gdD10fHx7fSx0LnVyaT10aGlzLnVyaSgpLHQueGQ9dGhpcy54ZCx0LnhzPXRoaXMueHMsdC5hZ2VudD10aGlzLmFnZW50fHwhMSx0LnN1cHBvcnRzQmluYXJ5PXRoaXMuc3VwcG9ydHNCaW5hcnksdC5lbmFibGVzWERSPXRoaXMuZW5hYmxlc1hEUix0LnBmeD10aGlzLnBmeCx0LmtleT10aGlzLmtleSx0LnBhc3NwaHJhc2U9dGhpcy5wYXNzcGhyYXNlLHQuY2VydD10aGlzLmNlcnQsdC5jYT10aGlzLmNhLHQuY2lwaGVycz10aGlzLmNpcGhlcnMsdC5yZWplY3RVbmF1dGhvcml6ZWQ9dGhpcy5yZWplY3RVbmF1dGhvcml6ZWQsdC5yZXF1ZXN0VGltZW91dD10aGlzLnJlcXVlc3RUaW1lb3V0LHQuZXh0cmFIZWFkZXJzPXRoaXMuZXh0cmFIZWFkZXJzLG5ldyBpKHQpfSxvLnByb3RvdHlwZS5kb1dyaXRlPWZ1bmN0aW9uKHQsZSl7dmFyIG49XCJzdHJpbmdcIiE9dHlwZW9mIHQmJnZvaWQgMCE9PXQscj10aGlzLnJlcXVlc3Qoe21ldGhvZDpcIlBPU1RcIixkYXRhOnQsaXNCaW5hcnk6bn0pLG89dGhpcztyLm9uKFwic3VjY2Vzc1wiLGUpLHIub24oXCJlcnJvclwiLGZ1bmN0aW9uKHQpe28ub25FcnJvcihcInhociBwb3N0IGVycm9yXCIsdCl9KSx0aGlzLnNlbmRYaHI9cn0sby5wcm90b3R5cGUuZG9Qb2xsPWZ1bmN0aW9uKCl7aChcInhociBwb2xsXCIpO3ZhciB0PXRoaXMucmVxdWVzdCgpLGU9dGhpczt0Lm9uKFwiZGF0YVwiLGZ1bmN0aW9uKHQpe2Uub25EYXRhKHQpfSksdC5vbihcImVycm9yXCIsZnVuY3Rpb24odCl7ZS5vbkVycm9yKFwieGhyIHBvbGwgZXJyb3JcIix0KX0pLHRoaXMucG9sbFhocj10fSxwKGkucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgdD17YWdlbnQ6dGhpcy5hZ2VudCx4ZG9tYWluOnRoaXMueGQseHNjaGVtZTp0aGlzLnhzLGVuYWJsZXNYRFI6dGhpcy5lbmFibGVzWERSfTt0LnBmeD10aGlzLnBmeCx0LmtleT10aGlzLmtleSx0LnBhc3NwaHJhc2U9dGhpcy5wYXNzcGhyYXNlLHQuY2VydD10aGlzLmNlcnQsdC5jYT10aGlzLmNhLHQuY2lwaGVycz10aGlzLmNpcGhlcnMsdC5yZWplY3RVbmF1dGhvcml6ZWQ9dGhpcy5yZWplY3RVbmF1dGhvcml6ZWQ7dmFyIG49dGhpcy54aHI9bmV3IGEodCkscj10aGlzO3RyeXtoKFwieGhyIG9wZW4gJXM6ICVzXCIsdGhpcy5tZXRob2QsdGhpcy51cmkpLG4ub3Blbih0aGlzLm1ldGhvZCx0aGlzLnVyaSx0aGlzLmFzeW5jKTt0cnl7aWYodGhpcy5leHRyYUhlYWRlcnMpe24uc2V0RGlzYWJsZUhlYWRlckNoZWNrJiZuLnNldERpc2FibGVIZWFkZXJDaGVjayghMCk7Zm9yKHZhciBvIGluIHRoaXMuZXh0cmFIZWFkZXJzKXRoaXMuZXh0cmFIZWFkZXJzLmhhc093blByb3BlcnR5KG8pJiZuLnNldFJlcXVlc3RIZWFkZXIobyx0aGlzLmV4dHJhSGVhZGVyc1tvXSl9fWNhdGNoKHMpe31pZihcIlBPU1RcIj09PXRoaXMubWV0aG9kKXRyeXt0aGlzLmlzQmluYXJ5P24uc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpOm4uc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLFwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCIpfWNhdGNoKHMpe310cnl7bi5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsXCIqLypcIil9Y2F0Y2gocyl7fVwid2l0aENyZWRlbnRpYWxzXCJpbiBuJiYobi53aXRoQ3JlZGVudGlhbHM9ITApLHRoaXMucmVxdWVzdFRpbWVvdXQmJihuLnRpbWVvdXQ9dGhpcy5yZXF1ZXN0VGltZW91dCksdGhpcy5oYXNYRFIoKT8obi5vbmxvYWQ9ZnVuY3Rpb24oKXtyLm9uTG9hZCgpfSxuLm9uZXJyb3I9ZnVuY3Rpb24oKXtyLm9uRXJyb3Iobi5yZXNwb25zZVRleHQpfSk6bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZigyPT09bi5yZWFkeVN0YXRlKXt2YXIgdDt0cnl7dD1uLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpfWNhdGNoKGUpe31cImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiPT09dCYmKG4ucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIil9ND09PW4ucmVhZHlTdGF0ZSYmKDIwMD09PW4uc3RhdHVzfHwxMjIzPT09bi5zdGF0dXM/ci5vbkxvYWQoKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5vbkVycm9yKG4uc3RhdHVzKX0sMCkpfSxoKFwieGhyIGRhdGEgJXNcIix0aGlzLmRhdGEpLG4uc2VuZCh0aGlzLmRhdGEpfWNhdGNoKHMpe3JldHVybiB2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLm9uRXJyb3Iocyl9LDApfWUuZG9jdW1lbnQmJih0aGlzLmluZGV4PWkucmVxdWVzdHNDb3VudCsrLGkucmVxdWVzdHNbdGhpcy5pbmRleF09dGhpcyl9LGkucHJvdG90eXBlLm9uU3VjY2Vzcz1mdW5jdGlvbigpe3RoaXMuZW1pdChcInN1Y2Nlc3NcIiksdGhpcy5jbGVhbnVwKCl9LGkucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJkYXRhXCIsdCksdGhpcy5vblN1Y2Nlc3MoKX0saS5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJlcnJvclwiLHQpLHRoaXMuY2xlYW51cCghMCl9LGkucHJvdG90eXBlLmNsZWFudXA9ZnVuY3Rpb24odCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMueGhyJiZudWxsIT09dGhpcy54aHIpe2lmKHRoaXMuaGFzWERSKCk/dGhpcy54aHIub25sb2FkPXRoaXMueGhyLm9uZXJyb3I9cjp0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2U9cix0KXRyeXt0aGlzLnhoci5hYm9ydCgpfWNhdGNoKG4pe31lLmRvY3VtZW50JiZkZWxldGUgaS5yZXF1ZXN0c1t0aGlzLmluZGV4XSx0aGlzLnhocj1udWxsfX0saS5wcm90b3R5cGUub25Mb2FkPWZ1bmN0aW9uKCl7dmFyIHQ7dHJ5e3ZhciBlO3RyeXtlPXRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpfWNhdGNoKG4pe310PVwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI9PT1lP3RoaXMueGhyLnJlc3BvbnNlfHx0aGlzLnhoci5yZXNwb25zZVRleHQ6dGhpcy54aHIucmVzcG9uc2VUZXh0fWNhdGNoKG4pe3RoaXMub25FcnJvcihuKX1udWxsIT10JiZ0aGlzLm9uRGF0YSh0KX0saS5wcm90b3R5cGUuaGFzWERSPWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuWERvbWFpblJlcXVlc3QmJiF0aGlzLnhzJiZ0aGlzLmVuYWJsZXNYRFJ9LGkucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5jbGVhbnVwKCl9LGkucmVxdWVzdHNDb3VudD0wLGkucmVxdWVzdHM9e30sZS5kb2N1bWVudCYmKGUuYXR0YWNoRXZlbnQ/ZS5hdHRhY2hFdmVudChcIm9udW5sb2FkXCIscyk6ZS5hZGRFdmVudExpc3RlbmVyJiZlLmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIixzLCExKSl9KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3ZhciBlPXQmJnQuZm9yY2VCYXNlNjQ7dSYmIWV8fCh0aGlzLnN1cHBvcnRzQmluYXJ5PSExKSxvLmNhbGwodGhpcyx0KX12YXIgbz1uKDIxKSxpPW4oMzApLHM9bigyMiksYT1uKDMxKSxjPW4oMzIpLHA9bigzKShcImVuZ2luZS5pby1jbGllbnQ6cG9sbGluZ1wiKTt0LmV4cG9ydHM9cjt2YXIgdT1mdW5jdGlvbigpe3ZhciB0PW4oMTcpLGU9bmV3IHQoe3hkb21haW46ITF9KTtyZXR1cm4gbnVsbCE9ZS5yZXNwb25zZVR5cGV9KCk7YShyLG8pLHIucHJvdG90eXBlLm5hbWU9XCJwb2xsaW5nXCIsci5wcm90b3R5cGUuZG9PcGVuPWZ1bmN0aW9uKCl7dGhpcy5wb2xsKCl9LHIucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtwKFwicGF1c2VkXCIpLG4ucmVhZHlTdGF0ZT1cInBhdXNlZFwiLHQoKX12YXIgbj10aGlzO2lmKHRoaXMucmVhZHlTdGF0ZT1cInBhdXNpbmdcIix0aGlzLnBvbGxpbmd8fCF0aGlzLndyaXRhYmxlKXt2YXIgcj0wO3RoaXMucG9sbGluZyYmKHAoXCJ3ZSBhcmUgY3VycmVudGx5IHBvbGxpbmcgLSB3YWl0aW5nIHRvIHBhdXNlXCIpLHIrKyx0aGlzLm9uY2UoXCJwb2xsQ29tcGxldGVcIixmdW5jdGlvbigpe3AoXCJwcmUtcGF1c2UgcG9sbGluZyBjb21wbGV0ZVwiKSwtLXJ8fGUoKX0pKSx0aGlzLndyaXRhYmxlfHwocChcIndlIGFyZSBjdXJyZW50bHkgd3JpdGluZyAtIHdhaXRpbmcgdG8gcGF1c2VcIikscisrLHRoaXMub25jZShcImRyYWluXCIsZnVuY3Rpb24oKXtwKFwicHJlLXBhdXNlIHdyaXRpbmcgY29tcGxldGVcIiksLS1yfHxlKCl9KSl9ZWxzZSBlKCl9LHIucHJvdG90eXBlLnBvbGw9ZnVuY3Rpb24oKXtwKFwicG9sbGluZ1wiKSx0aGlzLnBvbGxpbmc9ITAsdGhpcy5kb1BvbGwoKSx0aGlzLmVtaXQoXCJwb2xsXCIpfSxyLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztwKFwicG9sbGluZyBnb3QgZGF0YSAlc1wiLHQpO3ZhciBuPWZ1bmN0aW9uKHQsbixyKXtyZXR1cm5cIm9wZW5pbmdcIj09PWUucmVhZHlTdGF0ZSYmZS5vbk9wZW4oKSxcImNsb3NlXCI9PT10LnR5cGU/KGUub25DbG9zZSgpLCExKTp2b2lkIGUub25QYWNrZXQodCl9O3MuZGVjb2RlUGF5bG9hZCh0LHRoaXMuc29ja2V0LmJpbmFyeVR5cGUsbiksXCJjbG9zZWRcIiE9PXRoaXMucmVhZHlTdGF0ZSYmKHRoaXMucG9sbGluZz0hMSx0aGlzLmVtaXQoXCJwb2xsQ29tcGxldGVcIiksXCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGU/dGhpcy5wb2xsKCk6cCgnaWdub3JpbmcgcG9sbCAtIHRyYW5zcG9ydCBzdGF0ZSBcIiVzXCInLHRoaXMucmVhZHlTdGF0ZSkpfSxyLnByb3RvdHlwZS5kb0Nsb3NlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3AoXCJ3cml0aW5nIGNsb3NlIHBhY2tldFwiKSxlLndyaXRlKFt7dHlwZTpcImNsb3NlXCJ9XSl9dmFyIGU9dGhpcztcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZT8ocChcInRyYW5zcG9ydCBvcGVuIC0gY2xvc2luZ1wiKSx0KCkpOihwKFwidHJhbnNwb3J0IG5vdCBvcGVuIC0gZGVmZXJyaW5nIGNsb3NlXCIpLHRoaXMub25jZShcIm9wZW5cIix0KSl9LHIucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy53cml0YWJsZT0hMTt2YXIgbj1mdW5jdGlvbigpe2Uud3JpdGFibGU9ITAsZS5lbWl0KFwiZHJhaW5cIil9O3MuZW5jb2RlUGF5bG9hZCh0LHRoaXMuc3VwcG9ydHNCaW5hcnksZnVuY3Rpb24odCl7ZS5kb1dyaXRlKHQsbil9KX0sci5wcm90b3R5cGUudXJpPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5xdWVyeXx8e30sZT10aGlzLnNlY3VyZT9cImh0dHBzXCI6XCJodHRwXCIsbj1cIlwiOyExIT09dGhpcy50aW1lc3RhbXBSZXF1ZXN0cyYmKHRbdGhpcy50aW1lc3RhbXBQYXJhbV09YygpKSx0aGlzLnN1cHBvcnRzQmluYXJ5fHx0LnNpZHx8KHQuYjY0PTEpLHQ9aS5lbmNvZGUodCksdGhpcy5wb3J0JiYoXCJodHRwc1wiPT09ZSYmNDQzIT09TnVtYmVyKHRoaXMucG9ydCl8fFwiaHR0cFwiPT09ZSYmODAhPT1OdW1iZXIodGhpcy5wb3J0KSkmJihuPVwiOlwiK3RoaXMucG9ydCksdC5sZW5ndGgmJih0PVwiP1wiK3QpO3ZhciByPXRoaXMuaG9zdG5hbWUuaW5kZXhPZihcIjpcIikhPT0tMTtyZXR1cm4gZStcIjovL1wiKyhyP1wiW1wiK3RoaXMuaG9zdG5hbWUrXCJdXCI6dGhpcy5ob3N0bmFtZSkrbit0aGlzLnBhdGgrdH19LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiByKHQpe3RoaXMucGF0aD10LnBhdGgsdGhpcy5ob3N0bmFtZT10Lmhvc3RuYW1lLHRoaXMucG9ydD10LnBvcnQsdGhpcy5zZWN1cmU9dC5zZWN1cmUsdGhpcy5xdWVyeT10LnF1ZXJ5LHRoaXMudGltZXN0YW1wUGFyYW09dC50aW1lc3RhbXBQYXJhbSx0aGlzLnRpbWVzdGFtcFJlcXVlc3RzPXQudGltZXN0YW1wUmVxdWVzdHMsdGhpcy5yZWFkeVN0YXRlPVwiXCIsdGhpcy5hZ2VudD10LmFnZW50fHwhMSx0aGlzLnNvY2tldD10LnNvY2tldCx0aGlzLmVuYWJsZXNYRFI9dC5lbmFibGVzWERSLHRoaXMucGZ4PXQucGZ4LHRoaXMua2V5PXQua2V5LHRoaXMucGFzc3BocmFzZT10LnBhc3NwaHJhc2UsdGhpcy5jZXJ0PXQuY2VydCx0aGlzLmNhPXQuY2EsdGhpcy5jaXBoZXJzPXQuY2lwaGVycyx0aGlzLnJlamVjdFVuYXV0aG9yaXplZD10LnJlamVjdFVuYXV0aG9yaXplZCx0aGlzLmZvcmNlTm9kZT10LmZvcmNlTm9kZSx0aGlzLmV4dHJhSGVhZGVycz10LmV4dHJhSGVhZGVycyx0aGlzLmxvY2FsQWRkcmVzcz10LmxvY2FsQWRkcmVzc312YXIgbz1uKDIyKSxpPW4oOCk7dC5leHBvcnRzPXIsaShyLnByb3RvdHlwZSksci5wcm90b3R5cGUub25FcnJvcj1mdW5jdGlvbih0LGUpe3ZhciBuPW5ldyBFcnJvcih0KTtyZXR1cm4gbi50eXBlPVwiVHJhbnNwb3J0RXJyb3JcIixuLmRlc2NyaXB0aW9uPWUsdGhpcy5lbWl0KFwiZXJyb3JcIixuKSx0aGlzfSxyLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7cmV0dXJuXCJjbG9zZWRcIiE9PXRoaXMucmVhZHlTdGF0ZSYmXCJcIiE9PXRoaXMucmVhZHlTdGF0ZXx8KHRoaXMucmVhZHlTdGF0ZT1cIm9wZW5pbmdcIix0aGlzLmRvT3BlbigpKSx0aGlzfSxyLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3JldHVyblwib3BlbmluZ1wiIT09dGhpcy5yZWFkeVN0YXRlJiZcIm9wZW5cIiE9PXRoaXMucmVhZHlTdGF0ZXx8KHRoaXMuZG9DbG9zZSgpLHRoaXMub25DbG9zZSgpKSx0aGlzfSxyLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKHQpe2lmKFwib3BlblwiIT09dGhpcy5yZWFkeVN0YXRlKXRocm93IG5ldyBFcnJvcihcIlRyYW5zcG9ydCBub3Qgb3BlblwiKTt0aGlzLndyaXRlKHQpfSxyLnByb3RvdHlwZS5vbk9wZW49ZnVuY3Rpb24oKXt0aGlzLnJlYWR5U3RhdGU9XCJvcGVuXCIsdGhpcy53cml0YWJsZT0hMCx0aGlzLmVtaXQoXCJvcGVuXCIpfSxyLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24odCl7dmFyIGU9by5kZWNvZGVQYWNrZXQodCx0aGlzLnNvY2tldC5iaW5hcnlUeXBlKTt0aGlzLm9uUGFja2V0KGUpfSxyLnByb3RvdHlwZS5vblBhY2tldD1mdW5jdGlvbih0KXt0aGlzLmVtaXQoXCJwYWNrZXRcIix0KX0sci5wcm90b3R5cGUub25DbG9zZT1mdW5jdGlvbigpe3RoaXMucmVhZHlTdGF0ZT1cImNsb3NlZFwiLHRoaXMuZW1pdChcImNsb3NlXCIpfX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0KXtmdW5jdGlvbiByKHQsbil7dmFyIHI9XCJiXCIrZS5wYWNrZXRzW3QudHlwZV0rdC5kYXRhLmRhdGE7cmV0dXJuIG4ocil9ZnVuY3Rpb24gbyh0LG4scil7aWYoIW4pcmV0dXJuIGUuZW5jb2RlQmFzZTY0UGFja2V0KHQscik7dmFyIG89dC5kYXRhLGk9bmV3IFVpbnQ4QXJyYXkobykscz1uZXcgVWludDhBcnJheSgxK28uYnl0ZUxlbmd0aCk7c1swXT12W3QudHlwZV07Zm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspc1thKzFdPWlbYV07cmV0dXJuIHIocy5idWZmZXIpfWZ1bmN0aW9uIGkodCxuLHIpe2lmKCFuKXJldHVybiBlLmVuY29kZUJhc2U2NFBhY2tldCh0LHIpO3ZhciBvPW5ldyBGaWxlUmVhZGVyO3JldHVybiBvLm9ubG9hZD1mdW5jdGlvbigpe3QuZGF0YT1vLnJlc3VsdCxlLmVuY29kZVBhY2tldCh0LG4sITAscil9LG8ucmVhZEFzQXJyYXlCdWZmZXIodC5kYXRhKX1mdW5jdGlvbiBzKHQsbixyKXtpZighbilyZXR1cm4gZS5lbmNvZGVCYXNlNjRQYWNrZXQodCxyKTtpZihnKXJldHVybiBpKHQsbixyKTt2YXIgbz1uZXcgVWludDhBcnJheSgxKTtvWzBdPXZbdC50eXBlXTt2YXIgcz1uZXcgayhbby5idWZmZXIsdC5kYXRhXSk7cmV0dXJuIHIocyl9ZnVuY3Rpb24gYSh0KXt0cnl7dD1kLmRlY29kZSh0LHtzdHJpY3Q6ITF9KX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4gdH1mdW5jdGlvbiBjKHQsZSxuKXtmb3IodmFyIHI9bmV3IEFycmF5KHQubGVuZ3RoKSxvPWwodC5sZW5ndGgsbiksaT1mdW5jdGlvbih0LG4sbyl7ZShuLGZ1bmN0aW9uKGUsbil7clt0XT1uLG8oZSxyKX0pfSxzPTA7czx0Lmxlbmd0aDtzKyspaShzLHRbc10sbyl9dmFyIHAsdT1uKDIzKSxoPW4oOSksZj1uKDI0KSxsPW4oMjUpLGQ9bigyNik7dCYmdC5BcnJheUJ1ZmZlciYmKHA9bigyOCkpO3ZhciB5PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxtPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJi9QaGFudG9tSlMvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGc9eXx8bTtlLnByb3RvY29sPTM7dmFyIHY9ZS5wYWNrZXRzPXtvcGVuOjAsY2xvc2U6MSxwaW5nOjIscG9uZzozLG1lc3NhZ2U6NCx1cGdyYWRlOjUsbm9vcDo2fSxiPXUodiksdz17dHlwZTpcImVycm9yXCIsZGF0YTpcInBhcnNlciBlcnJvclwifSxrPW4oMjkpO2UuZW5jb2RlUGFja2V0PWZ1bmN0aW9uKGUsbixpLGEpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihhPW4sbj0hMSksXCJmdW5jdGlvblwiPT10eXBlb2YgaSYmKGE9aSxpPW51bGwpO3ZhciBjPXZvaWQgMD09PWUuZGF0YT92b2lkIDA6ZS5kYXRhLmJ1ZmZlcnx8ZS5kYXRhO2lmKHQuQXJyYXlCdWZmZXImJmMgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gbyhlLG4sYSk7aWYoayYmYyBpbnN0YW5jZW9mIHQuQmxvYilyZXR1cm4gcyhlLG4sYSk7aWYoYyYmYy5iYXNlNjQpcmV0dXJuIHIoZSxhKTt2YXIgcD12W2UudHlwZV07cmV0dXJuIHZvaWQgMCE9PWUuZGF0YSYmKHArPWk/ZC5lbmNvZGUoU3RyaW5nKGUuZGF0YSkse3N0cmljdDohMX0pOlN0cmluZyhlLmRhdGEpKSxhKFwiXCIrcCl9LGUuZW5jb2RlQmFzZTY0UGFja2V0PWZ1bmN0aW9uKG4scil7dmFyIG89XCJiXCIrZS5wYWNrZXRzW24udHlwZV07aWYoayYmbi5kYXRhIGluc3RhbmNlb2YgdC5CbG9iKXt2YXIgaT1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gaS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD1pLnJlc3VsdC5zcGxpdChcIixcIilbMV07cihvK3QpfSxpLnJlYWRBc0RhdGFVUkwobi5kYXRhKX12YXIgczt0cnl7cz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkobi5kYXRhKSl9Y2F0Y2goYSl7Zm9yKHZhciBjPW5ldyBVaW50OEFycmF5KG4uZGF0YSkscD1uZXcgQXJyYXkoYy5sZW5ndGgpLHU9MDt1PGMubGVuZ3RoO3UrKylwW3VdPWNbdV07cz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwscCl9cmV0dXJuIG8rPXQuYnRvYShzKSxyKG8pfSxlLmRlY29kZVBhY2tldD1mdW5jdGlvbih0LG4scil7aWYodm9pZCAwPT09dClyZXR1cm4gdztpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYoXCJiXCI9PT10LmNoYXJBdCgwKSlyZXR1cm4gZS5kZWNvZGVCYXNlNjRQYWNrZXQodC5zdWJzdHIoMSksbik7aWYociYmKHQ9YSh0KSx0PT09ITEpKXJldHVybiB3O3ZhciBvPXQuY2hhckF0KDApO3JldHVybiBOdW1iZXIobyk9PW8mJmJbb10/dC5sZW5ndGg+MT97dHlwZTpiW29dLGRhdGE6dC5zdWJzdHJpbmcoMSl9Ont0eXBlOmJbb119Ond9dmFyIGk9bmV3IFVpbnQ4QXJyYXkodCksbz1pWzBdLHM9Zih0LDEpO3JldHVybiBrJiZcImJsb2JcIj09PW4mJihzPW5ldyBrKFtzXSkpLHt0eXBlOmJbb10sZGF0YTpzfX0sZS5kZWNvZGVCYXNlNjRQYWNrZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1iW3QuY2hhckF0KDApXTtpZighcClyZXR1cm57dHlwZTpuLGRhdGE6e2Jhc2U2NDohMCxkYXRhOnQuc3Vic3RyKDEpfX07dmFyIHI9cC5kZWNvZGUodC5zdWJzdHIoMSkpO3JldHVyblwiYmxvYlwiPT09ZSYmayYmKHI9bmV3IGsoW3JdKSkse3R5cGU6bixkYXRhOnJ9fSxlLmVuY29kZVBheWxvYWQ9ZnVuY3Rpb24odCxuLHIpe2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQubGVuZ3RoK1wiOlwiK3R9ZnVuY3Rpb24gaSh0LHIpe2UuZW5jb2RlUGFja2V0KHQsISFzJiZuLCExLGZ1bmN0aW9uKHQpe3IobnVsbCxvKHQpKX0pfVwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihyPW4sbj1udWxsKTt2YXIgcz1oKHQpO3JldHVybiBuJiZzP2smJiFnP2UuZW5jb2RlUGF5bG9hZEFzQmxvYih0LHIpOmUuZW5jb2RlUGF5bG9hZEFzQXJyYXlCdWZmZXIodCxyKTp0Lmxlbmd0aD92b2lkIGModCxpLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHIoZS5qb2luKFwiXCIpKX0pOnIoXCIwOlwiKX0sZS5kZWNvZGVQYXlsb2FkPWZ1bmN0aW9uKHQsbixyKXtpZihcInN0cmluZ1wiIT10eXBlb2YgdClyZXR1cm4gZS5kZWNvZGVQYXlsb2FkQXNCaW5hcnkodCxuLHIpO1wiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihyPW4sbj1udWxsKTt2YXIgbztpZihcIlwiPT09dClyZXR1cm4gcih3LDAsMSk7Zm9yKHZhciBpLHMsYT1cIlwiLGM9MCxwPXQubGVuZ3RoO2M8cDtjKyspe3ZhciB1PXQuY2hhckF0KGMpO2lmKFwiOlwiPT09dSl7aWYoXCJcIj09PWF8fGEhPShpPU51bWJlcihhKSkpcmV0dXJuIHIodywwLDEpO2lmKHM9dC5zdWJzdHIoYysxLGkpLGEhPXMubGVuZ3RoKXJldHVybiByKHcsMCwxKTtpZihzLmxlbmd0aCl7aWYobz1lLmRlY29kZVBhY2tldChzLG4sITEpLHcudHlwZT09PW8udHlwZSYmdy5kYXRhPT09by5kYXRhKXJldHVybiByKHcsMCwxKTt2YXIgaD1yKG8sYytpLHApO2lmKCExPT09aClyZXR1cm59Yys9aSxhPVwiXCJ9ZWxzZSBhKz11fXJldHVyblwiXCIhPT1hP3IodywwLDEpOnZvaWQgMH0sZS5lbmNvZGVQYXlsb2FkQXNBcnJheUJ1ZmZlcj1mdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIodCxuKXtlLmVuY29kZVBhY2tldCh0LCEwLCEwLGZ1bmN0aW9uKHQpe3JldHVybiBuKG51bGwsdCl9KX1yZXR1cm4gdC5sZW5ndGg/dm9pZCBjKHQscixmdW5jdGlvbih0LGUpe3ZhciByPWUucmVkdWNlKGZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIG49XCJzdHJpbmdcIj09dHlwZW9mIGU/ZS5sZW5ndGg6ZS5ieXRlTGVuZ3RoLHQrbi50b1N0cmluZygpLmxlbmd0aCtuKzJ9LDApLG89bmV3IFVpbnQ4QXJyYXkociksaT0wO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9XCJzdHJpbmdcIj09dHlwZW9mIHQsbj10O2lmKGUpe2Zvcih2YXIgcj1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCkscz0wO3M8dC5sZW5ndGg7cysrKXJbc109dC5jaGFyQ29kZUF0KHMpO249ci5idWZmZXJ9ZT9vW2krK109MDpvW2krK109MTtmb3IodmFyIGE9bi5ieXRlTGVuZ3RoLnRvU3RyaW5nKCkscz0wO3M8YS5sZW5ndGg7cysrKW9baSsrXT1wYXJzZUludChhW3NdKTtvW2krK109MjU1O2Zvcih2YXIgcj1uZXcgVWludDhBcnJheShuKSxzPTA7czxyLmxlbmd0aDtzKyspb1tpKytdPXJbc119KSxuKG8uYnVmZmVyKX0pOm4obmV3IEFycmF5QnVmZmVyKDApKX0sZS5lbmNvZGVQYXlsb2FkQXNCbG9iPWZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gcih0LG4pe2UuZW5jb2RlUGFja2V0KHQsITAsITAsZnVuY3Rpb24odCl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMSk7aWYoZVswXT0xLFwic3RyaW5nXCI9PXR5cGVvZiB0KXtmb3IodmFyIHI9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpLG89MDtvPHQubGVuZ3RoO28rKylyW29dPXQuY2hhckNvZGVBdChvKTt0PXIuYnVmZmVyLGVbMF09MH1mb3IodmFyIGk9dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP3QuYnl0ZUxlbmd0aDp0LnNpemUscz1pLnRvU3RyaW5nKCksYT1uZXcgVWludDhBcnJheShzLmxlbmd0aCsxKSxvPTA7bzxzLmxlbmd0aDtvKyspYVtvXT1wYXJzZUludChzW29dKTtpZihhW3MubGVuZ3RoXT0yNTUsayl7dmFyIGM9bmV3IGsoW2UuYnVmZmVyLGEuYnVmZmVyLHRdKTtuKG51bGwsYyl9fSl9Yyh0LHIsZnVuY3Rpb24odCxlKXtyZXR1cm4gbihuZXcgayhlKSl9KX0sZS5kZWNvZGVQYXlsb2FkQXNCaW5hcnk9ZnVuY3Rpb24odCxuLHIpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihyPW4sbj1udWxsKTtmb3IodmFyIG89dCxpPVtdO28uYnl0ZUxlbmd0aD4wOyl7Zm9yKHZhciBzPW5ldyBVaW50OEFycmF5KG8pLGE9MD09PXNbMF0sYz1cIlwiLHA9MTsyNTUhPT1zW3BdO3ArKyl7aWYoYy5sZW5ndGg+MzEwKXJldHVybiByKHcsMCwxKTtjKz1zW3BdfW89ZihvLDIrYy5sZW5ndGgpLGM9cGFyc2VJbnQoYyk7dmFyIHU9ZihvLDAsYyk7aWYoYSl0cnl7dT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkodSkpfWNhdGNoKGgpe3ZhciBsPW5ldyBVaW50OEFycmF5KHUpO3U9XCJcIjtmb3IodmFyIHA9MDtwPGwubGVuZ3RoO3ArKyl1Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGxbcF0pfWkucHVzaCh1KSxvPWYobyxjKX12YXIgZD1pLmxlbmd0aDtpLmZvckVhY2goZnVuY3Rpb24odCxvKXtyKGUuZGVjb2RlUGFja2V0KHQsbiwhMCksbyxkKX0pfX0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKHQpe3ZhciBlPVtdLG49T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtmb3IodmFyIHIgaW4gdCluLmNhbGwodCxyKSYmZS5wdXNoKHIpO3JldHVybiBlfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQuYnl0ZUxlbmd0aDtpZihlPWV8fDAsbj1ufHxyLHQuc2xpY2UpcmV0dXJuIHQuc2xpY2UoZSxuKTtpZihlPDAmJihlKz1yKSxuPDAmJihuKz1yKSxuPnImJihuPXIpLGU+PXJ8fGU+PW58fDA9PT1yKXJldHVybiBuZXcgQXJyYXlCdWZmZXIoMCk7Zm9yKHZhciBvPW5ldyBVaW50OEFycmF5KHQpLGk9bmV3IFVpbnQ4QXJyYXkobi1lKSxzPWUsYT0wO3M8bjtzKyssYSsrKWlbYV09b1tzXTtyZXR1cm4gaS5idWZmZXJ9fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlLG4pe2Z1bmN0aW9uIG8odCxyKXtpZihvLmNvdW50PD0wKXRocm93IG5ldyBFcnJvcihcImFmdGVyIGNhbGxlZCB0b28gbWFueSB0aW1lc1wiKTstLW8uY291bnQsdD8oaT0hMCxlKHQpLGU9bik6MCE9PW8uY291bnR8fGl8fGUobnVsbCxyKX12YXIgaT0hMTtyZXR1cm4gbj1ufHxyLG8uY291bnQ9dCwwPT09dD9lKCk6b31mdW5jdGlvbiByKCl7fXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsbil7dmFyIHI7KGZ1bmN0aW9uKHQsbyl7IWZ1bmN0aW9uKGkpe2Z1bmN0aW9uIHModCl7Zm9yKHZhciBlLG4scj1bXSxvPTAsaT10Lmxlbmd0aDtvPGk7KWU9dC5jaGFyQ29kZUF0KG8rKyksZT49NTUyOTYmJmU8PTU2MzE5JiZvPGk/KG49dC5jaGFyQ29kZUF0KG8rKyksNTYzMjA9PSg2NDUxMiZuKT9yLnB1c2goKCgxMDIzJmUpPDwxMCkrKDEwMjMmbikrNjU1MzYpOihyLnB1c2goZSksby0tKSk6ci5wdXNoKGUpO3JldHVybiByfWZ1bmN0aW9uIGEodCl7Zm9yKHZhciBlLG49dC5sZW5ndGgscj0tMSxvPVwiXCI7KytyPG47KWU9dFtyXSxlPjY1NTM1JiYoZS09NjU1MzYsbys9dyhlPj4+MTAmMTAyM3w1NTI5NiksZT01NjMyMHwxMDIzJmUpLG8rPXcoZSk7cmV0dXJuIG99ZnVuY3Rpb24gYyh0LGUpe2lmKHQ+PTU1Mjk2JiZ0PD01NzM0Myl7aWYoZSl0aHJvdyBFcnJvcihcIkxvbmUgc3Vycm9nYXRlIFUrXCIrdC50b1N0cmluZygxNikudG9VcHBlckNhc2UoKStcIiBpcyBub3QgYSBzY2FsYXIgdmFsdWVcIik7cmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gcCh0LGUpe3JldHVybiB3KHQ+PmUmNjN8MTI4KX1mdW5jdGlvbiB1KHQsZSl7aWYoMD09KDQyOTQ5NjcxNjgmdCkpcmV0dXJuIHcodCk7dmFyIG49XCJcIjtyZXR1cm4gMD09KDQyOTQ5NjUyNDgmdCk/bj13KHQ+PjYmMzF8MTkyKTowPT0oNDI5NDkwMTc2MCZ0KT8oYyh0LGUpfHwodD02NTUzMyksbj13KHQ+PjEyJjE1fDIyNCksbis9cCh0LDYpKTowPT0oNDI5Mjg3MDE0NCZ0KSYmKG49dyh0Pj4xOCY3fDI0MCksbis9cCh0LDEyKSxuKz1wKHQsNikpLG4rPXcoNjMmdHwxMjgpfWZ1bmN0aW9uIGgodCxlKXtlPWV8fHt9O2Zvcih2YXIgbixyPSExIT09ZS5zdHJpY3Qsbz1zKHQpLGk9by5sZW5ndGgsYT0tMSxjPVwiXCI7KythPGk7KW49b1thXSxjKz11KG4scik7cmV0dXJuIGN9ZnVuY3Rpb24gZigpe2lmKGI+PXYpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGJ5dGUgaW5kZXhcIik7dmFyIHQ9MjU1JmdbYl07aWYoYisrLDEyOD09KDE5MiZ0KSlyZXR1cm4gNjMmdDt0aHJvdyBFcnJvcihcIkludmFsaWQgY29udGludWF0aW9uIGJ5dGVcIil9ZnVuY3Rpb24gbCh0KXt2YXIgZSxuLHIsbyxpO2lmKGI+dil0aHJvdyBFcnJvcihcIkludmFsaWQgYnl0ZSBpbmRleFwiKTtpZihiPT12KXJldHVybiExO2lmKGU9MjU1JmdbYl0sYisrLDA9PSgxMjgmZSkpcmV0dXJuIGU7aWYoMTkyPT0oMjI0JmUpKXtpZihuPWYoKSxpPSgzMSZlKTw8NnxuLGk+PTEyOClyZXR1cm4gaTt0aHJvdyBFcnJvcihcIkludmFsaWQgY29udGludWF0aW9uIGJ5dGVcIil9aWYoMjI0PT0oMjQwJmUpKXtpZihuPWYoKSxyPWYoKSxpPSgxNSZlKTw8MTJ8bjw8NnxyLGk+PTIwNDgpcmV0dXJuIGMoaSx0KT9pOjY1NTMzO3Rocm93IEVycm9yKFwiSW52YWxpZCBjb250aW51YXRpb24gYnl0ZVwiKX1pZigyNDA9PSgyNDgmZSkmJihuPWYoKSxyPWYoKSxvPWYoKSxpPSg3JmUpPDwxOHxuPDwxMnxyPDw2fG8saT49NjU1MzYmJmk8PTExMTQxMTEpKXJldHVybiBpO3Rocm93IEVycm9yKFwiSW52YWxpZCBVVEYtOCBkZXRlY3RlZFwiKX1mdW5jdGlvbiBkKHQsZSl7ZT1lfHx7fTt2YXIgbj0hMSE9PWUuc3RyaWN0O2c9cyh0KSx2PWcubGVuZ3RoLGI9MDtmb3IodmFyIHIsbz1bXTsocj1sKG4pKSE9PSExOylvLnB1c2gocik7cmV0dXJuIGEobyl9dmFyIHk9XCJvYmplY3RcIj09dHlwZW9mIGUmJmUsbT0oXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuZXhwb3J0cz09eSYmdCxcIm9iamVjdFwiPT10eXBlb2YgbyYmbyk7bS5nbG9iYWwhPT1tJiZtLndpbmRvdyE9PW18fChpPW0pO3ZhciBnLHYsYix3PVN0cmluZy5mcm9tQ2hhckNvZGUsaz17dmVyc2lvbjpcIjIuMS4yXCIsZW5jb2RlOmgsZGVjb2RlOmR9O3I9ZnVuY3Rpb24oKXtyZXR1cm4ga30uY2FsbChlLG4sZSx0KSwhKHZvaWQgMCE9PXImJih0LmV4cG9ydHM9cikpfSh0aGlzKX0pLmNhbGwoZSxuKDI3KSh0KSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIHQud2VicGFja1BvbHlmaWxsfHwodC5kZXByZWNhdGU9ZnVuY3Rpb24oKXt9LHQucGF0aHM9W10sdC5jaGlsZHJlbj1bXSx0LndlYnBhY2tQb2x5ZmlsbD0xKSx0fX0sZnVuY3Rpb24odCxlKXshZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmb3IodmFyIHQ9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsbj1uZXcgVWludDhBcnJheSgyNTYpLHI9MDtyPHQubGVuZ3RoO3IrKyluW3QuY2hhckNvZGVBdChyKV09cjtlLmVuY29kZT1mdW5jdGlvbihlKXt2YXIgbixyPW5ldyBVaW50OEFycmF5KGUpLG89ci5sZW5ndGgsaT1cIlwiO2ZvcihuPTA7bjxvO24rPTMpaSs9dFtyW25dPj4yXSxpKz10WygzJnJbbl0pPDw0fHJbbisxXT4+NF0saSs9dFsoMTUmcltuKzFdKTw8MnxyW24rMl0+PjZdLGkrPXRbNjMmcltuKzJdXTtyZXR1cm4gbyUzPT09Mj9pPWkuc3Vic3RyaW5nKDAsaS5sZW5ndGgtMSkrXCI9XCI6byUzPT09MSYmKGk9aS5zdWJzdHJpbmcoMCxpLmxlbmd0aC0yKStcIj09XCIpLGl9LGUuZGVjb2RlPWZ1bmN0aW9uKHQpe3ZhciBlLHIsbyxpLHMsYT0uNzUqdC5sZW5ndGgsYz10Lmxlbmd0aCxwPTA7XCI9XCI9PT10W3QubGVuZ3RoLTFdJiYoYS0tLFwiPVwiPT09dFt0Lmxlbmd0aC0yXSYmYS0tKTt2YXIgdT1uZXcgQXJyYXlCdWZmZXIoYSksaD1uZXcgVWludDhBcnJheSh1KTtmb3IoZT0wO2U8YztlKz00KXI9blt0LmNoYXJDb2RlQXQoZSldLG89blt0LmNoYXJDb2RlQXQoZSsxKV0saT1uW3QuY2hhckNvZGVBdChlKzIpXSxzPW5bdC5jaGFyQ29kZUF0KGUrMyldLGhbcCsrXT1yPDwyfG8+PjQsaFtwKytdPSgxNSZvKTw8NHxpPj4yLGhbcCsrXT0oMyZpKTw8Nnw2MyZzO3JldHVybiB1fX0oKX0sZnVuY3Rpb24odCxlKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXTtpZihuLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt2YXIgcj1uLmJ1ZmZlcjtpZihuLmJ5dGVMZW5ndGghPT1yLmJ5dGVMZW5ndGgpe3ZhciBvPW5ldyBVaW50OEFycmF5KG4uYnl0ZUxlbmd0aCk7by5zZXQobmV3IFVpbnQ4QXJyYXkocixuLmJ5dGVPZmZzZXQsbi5ieXRlTGVuZ3RoKSkscj1vLmJ1ZmZlcn10W2VdPXJ9fX1mdW5jdGlvbiByKHQsZSl7ZT1lfHx7fTt2YXIgcj1uZXcgaTtuKHQpO2Zvcih2YXIgbz0wO288dC5sZW5ndGg7bysrKXIuYXBwZW5kKHRbb10pO3JldHVybiBlLnR5cGU/ci5nZXRCbG9iKGUudHlwZSk6ci5nZXRCbG9iKCl9ZnVuY3Rpb24gbyh0LGUpe3JldHVybiBuKHQpLG5ldyBCbG9iKHQsZXx8e30pfXZhciBpPWUuQmxvYkJ1aWxkZXJ8fGUuV2ViS2l0QmxvYkJ1aWxkZXJ8fGUuTVNCbG9iQnVpbGRlcnx8ZS5Nb3pCbG9iQnVpbGRlcixzPWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PW5ldyBCbG9iKFtcImhpXCJdKTtyZXR1cm4gMj09PXQuc2l6ZX1jYXRjaChlKXtyZXR1cm4hMX19KCksYT1zJiZmdW5jdGlvbigpe3RyeXt2YXIgdD1uZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoWzEsMl0pXSk7cmV0dXJuIDI9PT10LnNpemV9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLGM9aSYmaS5wcm90b3R5cGUuYXBwZW5kJiZpLnByb3RvdHlwZS5nZXRCbG9iO3QuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiBzP2E/ZS5CbG9iOm86Yz9yOnZvaWQgMH0oKX0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlKXtlLmVuY29kZT1mdW5jdGlvbih0KXt2YXIgZT1cIlwiO2Zvcih2YXIgbiBpbiB0KXQuaGFzT3duUHJvcGVydHkobikmJihlLmxlbmd0aCYmKGUrPVwiJlwiKSxlKz1lbmNvZGVVUklDb21wb25lbnQobikrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHRbbl0pKTtyZXR1cm4gZX0sZS5kZWNvZGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXt9LG49dC5zcGxpdChcIiZcIikscj0wLG89bi5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9bltyXS5zcGxpdChcIj1cIik7ZVtkZWNvZGVVUklDb21wb25lbnQoaVswXSldPWRlY29kZVVSSUNvbXBvbmVudChpWzFdKX1yZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZnVuY3Rpb24oKXt9O24ucHJvdG90eXBlPWUucHJvdG90eXBlLHQucHJvdG90eXBlPW5ldyBuLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXR9fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7dmFyIGU9XCJcIjtkbyBlPXNbdCVhXStlLHQ9TWF0aC5mbG9vcih0L2EpO3doaWxlKHQ+MCk7cmV0dXJuIGV9ZnVuY3Rpb24gcih0KXt2YXIgZT0wO2Zvcih1PTA7dTx0Lmxlbmd0aDt1KyspZT1lKmErY1t0LmNoYXJBdCh1KV07cmV0dXJuIGV9ZnVuY3Rpb24gbygpe3ZhciB0PW4oK25ldyBEYXRlKTtyZXR1cm4gdCE9PWk/KHA9MCxpPXQpOnQrXCIuXCIrbihwKyspfWZvcih2YXIgaSxzPVwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXotX1wiLnNwbGl0KFwiXCIpLGE9NjQsYz17fSxwPTAsdT0wO3U8YTt1KyspY1tzW3VdXT11O28uZW5jb2RlPW4sby5kZWNvZGU9cix0LmV4cG9ydHM9b30sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXtmdW5jdGlvbiByKCl7fWZ1bmN0aW9uIG8odCl7aS5jYWxsKHRoaXMsdCksdGhpcy5xdWVyeT10aGlzLnF1ZXJ5fHx7fSxhfHwoZS5fX19laW98fChlLl9fX2Vpbz1bXSksYT1lLl9fX2VpbyksdGhpcy5pbmRleD1hLmxlbmd0aDt2YXIgbj10aGlzO2EucHVzaChmdW5jdGlvbih0KXtuLm9uRGF0YSh0KX0pLHRoaXMucXVlcnkuaj10aGlzLmluZGV4LGUuZG9jdW1lbnQmJmUuYWRkRXZlbnRMaXN0ZW5lciYmZS5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsZnVuY3Rpb24oKXtuLnNjcmlwdCYmKG4uc2NyaXB0Lm9uZXJyb3I9cil9LCExKX12YXIgaT1uKDIwKSxzPW4oMzEpO3QuZXhwb3J0cz1vO3ZhciBhLGM9L1xcbi9nLHA9L1xcXFxuL2c7cyhvLGkpLG8ucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5PSExLG8ucHJvdG90eXBlLmRvQ2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnNjcmlwdCYmKHRoaXMuc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zY3JpcHQpLHRoaXMuc2NyaXB0PW51bGwpLHRoaXMuZm9ybSYmKHRoaXMuZm9ybS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZm9ybSksdGhpcy5mb3JtPW51bGwsdGhpcy5pZnJhbWU9bnVsbCksaS5wcm90b3R5cGUuZG9DbG9zZS5jYWxsKHRoaXMpfSxvLnByb3RvdHlwZS5kb1BvbGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTt0aGlzLnNjcmlwdCYmKHRoaXMuc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zY3JpcHQpLHRoaXMuc2NyaXB0PW51bGwpLGUuYXN5bmM9ITAsZS5zcmM9dGhpcy51cmkoKSxlLm9uZXJyb3I9ZnVuY3Rpb24oZSl7dC5vbkVycm9yKFwianNvbnAgcG9sbCBlcnJvclwiLGUpfTt2YXIgbj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKVswXTtuP24ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSxuKTooZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoZSksdGhpcy5zY3JpcHQ9ZTt2YXIgcj1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiYvZ2Vja28vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO3ImJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCksZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0KX0sMTAwKX0sby5wcm90b3R5cGUuZG9Xcml0ZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oKXtyKCksZSgpfWZ1bmN0aW9uIHIoKXtpZihvLmlmcmFtZSl0cnl7by5mb3JtLnJlbW92ZUNoaWxkKG8uaWZyYW1lKX1jYXRjaCh0KXtvLm9uRXJyb3IoXCJqc29ucCBwb2xsaW5nIGlmcmFtZSByZW1vdmFsIGVycm9yXCIsdCl9dHJ5e3ZhciBlPSc8aWZyYW1lIHNyYz1cImphdmFzY3JpcHQ6MFwiIG5hbWU9XCInK28uaWZyYW1lSWQrJ1wiPic7aT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpfWNhdGNoKHQpe2k9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSxpLm5hbWU9by5pZnJhbWVJZCxpLnNyYz1cImphdmFzY3JpcHQ6MFwifWkuaWQ9by5pZnJhbWVJZCxvLmZvcm0uYXBwZW5kQ2hpbGQoaSksby5pZnJhbWU9aX12YXIgbz10aGlzO2lmKCF0aGlzLmZvcm0pe3ZhciBpLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIiksYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksdT10aGlzLmlmcmFtZUlkPVwiZWlvX2lmcmFtZV9cIit0aGlzLmluZGV4O3MuY2xhc3NOYW1lPVwic29ja2V0aW9cIixzLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixzLnN0eWxlLnRvcD1cIi0xMDAwcHhcIixzLnN0eWxlLmxlZnQ9XCItMTAwMHB4XCIscy50YXJnZXQ9dSxzLm1ldGhvZD1cIlBPU1RcIixzLnNldEF0dHJpYnV0ZShcImFjY2VwdC1jaGFyc2V0XCIsXCJ1dGYtOFwiKSxhLm5hbWU9XCJkXCIscy5hcHBlbmRDaGlsZChhKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpLHRoaXMuZm9ybT1zLHRoaXMuYXJlYT1hfXRoaXMuZm9ybS5hY3Rpb249dGhpcy51cmkoKSxyKCksdD10LnJlcGxhY2UocCxcIlxcXFxcXG5cIiksdGhpcy5hcmVhLnZhbHVlPXQucmVwbGFjZShjLFwiXFxcXG5cIik7dHJ5e3RoaXMuZm9ybS5zdWJtaXQoKX1jYXRjaChoKXt9dGhpcy5pZnJhbWUuYXR0YWNoRXZlbnQ/dGhpcy5pZnJhbWUub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7XCJjb21wbGV0ZVwiPT09by5pZnJhbWUucmVhZHlTdGF0ZSYmbigpfTp0aGlzLmlmcmFtZS5vbmxvYWQ9bn19KS5jYWxsKGUsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKHQsZSxuKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcih0KXt2YXIgZT10JiZ0LmZvcmNlQmFzZTY0O2UmJih0aGlzLnN1cHBvcnRzQmluYXJ5PSExKSx0aGlzLnBlck1lc3NhZ2VEZWZsYXRlPXQucGVyTWVzc2FnZURlZmxhdGUsdGhpcy51c2luZ0Jyb3dzZXJXZWJTb2NrZXQ9aCYmIXQuZm9yY2VOb2RlLHRoaXMucHJvdG9jb2xzPXQucHJvdG9jb2xzLHRoaXMudXNpbmdCcm93c2VyV2ViU29ja2V0fHwobD1vKSxpLmNhbGwodGhpcyx0KX12YXIgbyxpPW4oMjEpLHM9bigyMiksYT1uKDMwKSxjPW4oMzEpLHA9bigzMiksdT1uKDMpKFwiZW5naW5lLmlvLWNsaWVudDp3ZWJzb2NrZXRcIiksaD1lLldlYlNvY2tldHx8ZS5Nb3pXZWJTb2NrZXQ7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdyl0cnl7bz1uKDM1KX1jYXRjaChmKXt9dmFyIGw9aDtsfHxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93fHwobD1vKSx0LmV4cG9ydHM9cixjKHIsaSksci5wcm90b3R5cGUubmFtZT1cIndlYnNvY2tldFwiLHIucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5PSEwLHIucHJvdG90eXBlLmRvT3Blbj1mdW5jdGlvbigpe2lmKHRoaXMuY2hlY2soKSl7dmFyIHQ9dGhpcy51cmkoKSxlPXRoaXMucHJvdG9jb2xzLG49e2FnZW50OnRoaXMuYWdlbnQscGVyTWVzc2FnZURlZmxhdGU6dGhpcy5wZXJNZXNzYWdlRGVmbGF0ZX07bi5wZng9dGhpcy5wZngsbi5rZXk9dGhpcy5rZXksbi5wYXNzcGhyYXNlPXRoaXMucGFzc3BocmFzZSxuLmNlcnQ9dGhpcy5jZXJ0LG4uY2E9dGhpcy5jYSxuLmNpcGhlcnM9dGhpcy5jaXBoZXJzLG4ucmVqZWN0VW5hdXRob3JpemVkPXRoaXMucmVqZWN0VW5hdXRob3JpemVkLHRoaXMuZXh0cmFIZWFkZXJzJiYobi5oZWFkZXJzPXRoaXMuZXh0cmFIZWFkZXJzKSx0aGlzLmxvY2FsQWRkcmVzcyYmKG4ubG9jYWxBZGRyZXNzPXRoaXMubG9jYWxBZGRyZXNzKTt0cnl7dGhpcy53cz10aGlzLnVzaW5nQnJvd3NlcldlYlNvY2tldD9lP25ldyBsKHQsZSk6bmV3IGwodCk6bmV3IGwodCxlLG4pfWNhdGNoKHIpe3JldHVybiB0aGlzLmVtaXQoXCJlcnJvclwiLHIpfXZvaWQgMD09PXRoaXMud3MuYmluYXJ5VHlwZSYmKHRoaXMuc3VwcG9ydHNCaW5hcnk9ITEpLHRoaXMud3Muc3VwcG9ydHMmJnRoaXMud3Muc3VwcG9ydHMuYmluYXJ5Pyh0aGlzLnN1cHBvcnRzQmluYXJ5PSEwLHRoaXMud3MuYmluYXJ5VHlwZT1cIm5vZGVidWZmZXJcIik6dGhpcy53cy5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIix0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCl9fSxyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy53cy5vbm9wZW49ZnVuY3Rpb24oKXt0Lm9uT3BlbigpfSx0aGlzLndzLm9uY2xvc2U9ZnVuY3Rpb24oKXt0Lm9uQ2xvc2UoKX0sdGhpcy53cy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7dC5vbkRhdGEoZS5kYXRhKX0sdGhpcy53cy5vbmVycm9yPWZ1bmN0aW9uKGUpe3Qub25FcnJvcihcIndlYnNvY2tldCBlcnJvclwiLGUpfX0sci5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3IuZW1pdChcImZsdXNoXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLndyaXRhYmxlPSEwLHIuZW1pdChcImRyYWluXCIpfSwwKX12YXIgcj10aGlzO3RoaXMud3JpdGFibGU9ITE7Zm9yKHZhciBvPXQubGVuZ3RoLGk9MCxhPW87aTxhO2krKykhZnVuY3Rpb24odCl7cy5lbmNvZGVQYWNrZXQodCxyLnN1cHBvcnRzQmluYXJ5LGZ1bmN0aW9uKGkpe2lmKCFyLnVzaW5nQnJvd3NlcldlYlNvY2tldCl7dmFyIHM9e307aWYodC5vcHRpb25zJiYocy5jb21wcmVzcz10Lm9wdGlvbnMuY29tcHJlc3MpLHIucGVyTWVzc2FnZURlZmxhdGUpe3ZhciBhPVwic3RyaW5nXCI9PXR5cGVvZiBpP2UuQnVmZmVyLmJ5dGVMZW5ndGgoaSk6aS5sZW5ndGg7YTxyLnBlck1lc3NhZ2VEZWZsYXRlLnRocmVzaG9sZCYmKHMuY29tcHJlc3M9ITEpfX10cnl7ci51c2luZ0Jyb3dzZXJXZWJTb2NrZXQ/ci53cy5zZW5kKGkpOnIud3Muc2VuZChpLHMpfWNhdGNoKGMpe3UoXCJ3ZWJzb2NrZXQgY2xvc2VkIGJlZm9yZSBvbmNsb3NlIGV2ZW50XCIpfS0tb3x8bigpfSl9KHRbaV0pfSxyLnByb3RvdHlwZS5vbkNsb3NlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUub25DbG9zZS5jYWxsKHRoaXMpfSxyLnByb3RvdHlwZS5kb0Nsb3NlPWZ1bmN0aW9uKCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMud3MmJnRoaXMud3MuY2xvc2UoKX0sci5wcm90b3R5cGUudXJpPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5xdWVyeXx8e30sZT10aGlzLnNlY3VyZT9cIndzc1wiOlwid3NcIixuPVwiXCI7dGhpcy5wb3J0JiYoXCJ3c3NcIj09PWUmJjQ0MyE9PU51bWJlcih0aGlzLnBvcnQpfHxcIndzXCI9PT1lJiY4MCE9PU51bWJlcih0aGlzLnBvcnQpKSYmKG49XCI6XCIrdGhpcy5wb3J0KSx0aGlzLnRpbWVzdGFtcFJlcXVlc3RzJiYodFt0aGlzLnRpbWVzdGFtcFBhcmFtXT1wKCkpLHRoaXMuc3VwcG9ydHNCaW5hcnl8fCh0LmI2ND0xKSx0PWEuZW5jb2RlKHQpLHQubGVuZ3RoJiYodD1cIj9cIit0KTt2YXIgcj10aGlzLmhvc3RuYW1lLmluZGV4T2YoXCI6XCIpIT09LTE7cmV0dXJuIGUrXCI6Ly9cIisocj9cIltcIit0aGlzLmhvc3RuYW1lK1wiXVwiOnRoaXMuaG9zdG5hbWUpK24rdGhpcy5wYXRoK3R9LHIucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKCl7cmV0dXJuISghbHx8XCJfX2luaXRpYWxpemVcImluIGwmJnRoaXMubmFtZT09PXIucHJvdG90eXBlLm5hbWUpfX0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlKXt9LGZ1bmN0aW9uKHQsZSl7dmFyIG49W10uaW5kZXhPZjt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihuKXJldHVybiB0LmluZGV4T2YoZSk7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3IpaWYodFtyXT09PWUpcmV0dXJuIHI7cmV0dXJuLTF9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0LGUsbil7dGhpcy5pbz10LHRoaXMubnNwPWUsdGhpcy5qc29uPXRoaXMsdGhpcy5pZHM9MCx0aGlzLmFja3M9e30sdGhpcy5yZWNlaXZlQnVmZmVyPVtdLHRoaXMuc2VuZEJ1ZmZlcj1bXSx0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLmRpc2Nvbm5lY3RlZD0hMCxuJiZuLnF1ZXJ5JiYodGhpcy5xdWVyeT1uLnF1ZXJ5KSx0aGlzLmlvLmF1dG9Db25uZWN0JiZ0aGlzLm9wZW4oKX12YXIgbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxpPW4oNykscz1uKDgpLGE9bigzOCksYz1uKDM5KSxwPW4oNDApLHU9bigzKShcInNvY2tldC5pby1jbGllbnQ6c29ja2V0XCIpLGg9bigzMCk7dC5leHBvcnRzPWU9cjt2YXIgZj17Y29ubmVjdDoxLGNvbm5lY3RfZXJyb3I6MSxjb25uZWN0X3RpbWVvdXQ6MSxjb25uZWN0aW5nOjEsZGlzY29ubmVjdDoxLGVycm9yOjEscmVjb25uZWN0OjEscmVjb25uZWN0X2F0dGVtcHQ6MSxyZWNvbm5lY3RfZmFpbGVkOjEscmVjb25uZWN0X2Vycm9yOjEscmVjb25uZWN0aW5nOjEscGluZzoxLHBvbmc6MX0sbD1zLnByb3RvdHlwZS5lbWl0O3Moci5wcm90b3R5cGUpLHIucHJvdG90eXBlLnN1YkV2ZW50cz1mdW5jdGlvbigpe2lmKCF0aGlzLnN1YnMpe3ZhciB0PXRoaXMuaW87dGhpcy5zdWJzPVtjKHQsXCJvcGVuXCIscCh0aGlzLFwib25vcGVuXCIpKSxjKHQsXCJwYWNrZXRcIixwKHRoaXMsXCJvbnBhY2tldFwiKSksYyh0LFwiY2xvc2VcIixwKHRoaXMsXCJvbmNsb3NlXCIpKV19fSxyLnByb3RvdHlwZS5vcGVuPXIucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0ZWQ/dGhpczoodGhpcy5zdWJFdmVudHMoKSx0aGlzLmlvLm9wZW4oKSxcIm9wZW5cIj09PXRoaXMuaW8ucmVhZHlTdGF0ZSYmdGhpcy5vbm9wZW4oKSx0aGlzLmVtaXQoXCJjb25uZWN0aW5nXCIpLHRoaXMpfSxyLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKCl7dmFyIHQ9YShhcmd1bWVudHMpO3JldHVybiB0LnVuc2hpZnQoXCJtZXNzYWdlXCIpLHRoaXMuZW1pdC5hcHBseSh0aGlzLHQpLHRoaXN9LHIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7aWYoZi5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4gbC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpczt2YXIgZT1hKGFyZ3VtZW50cyksbj17dHlwZTppLkVWRU5ULGRhdGE6ZX07cmV0dXJuIG4ub3B0aW9ucz17fSxuLm9wdGlvbnMuY29tcHJlc3M9IXRoaXMuZmxhZ3N8fCExIT09dGhpcy5mbGFncy5jb21wcmVzcyxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlW2UubGVuZ3RoLTFdJiYodShcImVtaXR0aW5nIHBhY2tldCB3aXRoIGFjayBpZCAlZFwiLHRoaXMuaWRzKSx0aGlzLmFja3NbdGhpcy5pZHNdPWUucG9wKCksbi5pZD10aGlzLmlkcysrKSx0aGlzLmNvbm5lY3RlZD90aGlzLnBhY2tldChuKTp0aGlzLnNlbmRCdWZmZXIucHVzaChuKSxkZWxldGUgdGhpcy5mbGFncyx0aGlzfSxyLnByb3RvdHlwZS5wYWNrZXQ9ZnVuY3Rpb24odCl7dC5uc3A9dGhpcy5uc3AsdGhpcy5pby5wYWNrZXQodCl9LHIucHJvdG90eXBlLm9ub3Blbj1mdW5jdGlvbigpe2lmKHUoXCJ0cmFuc3BvcnQgaXMgb3BlbiAtIGNvbm5lY3RpbmdcIiksXCIvXCIhPT10aGlzLm5zcClpZih0aGlzLnF1ZXJ5KXt2YXIgdD1cIm9iamVjdFwiPT09byh0aGlzLnF1ZXJ5KT9oLmVuY29kZSh0aGlzLnF1ZXJ5KTp0aGlzLnF1ZXJ5O3UoXCJzZW5kaW5nIGNvbm5lY3QgcGFja2V0IHdpdGggcXVlcnkgJXNcIix0KSx0aGlzLnBhY2tldCh7dHlwZTppLkNPTk5FQ1QscXVlcnk6dH0pfWVsc2UgdGhpcy5wYWNrZXQoe3R5cGU6aS5DT05ORUNUfSl9LHIucHJvdG90eXBlLm9uY2xvc2U9ZnVuY3Rpb24odCl7dShcImNsb3NlICglcylcIix0KSx0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLmRpc2Nvbm5lY3RlZD0hMCxkZWxldGUgdGhpcy5pZCx0aGlzLmVtaXQoXCJkaXNjb25uZWN0XCIsdCl9LHIucHJvdG90eXBlLm9ucGFja2V0PWZ1bmN0aW9uKHQpe2lmKHQubnNwPT09dGhpcy5uc3Apc3dpdGNoKHQudHlwZSl7Y2FzZSBpLkNPTk5FQ1Q6dGhpcy5vbmNvbm5lY3QoKTticmVhaztjYXNlIGkuRVZFTlQ6dGhpcy5vbmV2ZW50KHQpO2JyZWFrO2Nhc2UgaS5CSU5BUllfRVZFTlQ6dGhpcy5vbmV2ZW50KHQpO2JyZWFrO2Nhc2UgaS5BQ0s6dGhpcy5vbmFjayh0KTticmVhaztjYXNlIGkuQklOQVJZX0FDSzp0aGlzLm9uYWNrKHQpO2JyZWFrO2Nhc2UgaS5ESVNDT05ORUNUOnRoaXMub25kaXNjb25uZWN0KCk7YnJlYWs7Y2FzZSBpLkVSUk9SOnRoaXMuZW1pdChcImVycm9yXCIsdC5kYXRhKX19LHIucHJvdG90eXBlLm9uZXZlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5kYXRhfHxbXTt1KFwiZW1pdHRpbmcgZXZlbnQgJWpcIixlKSxudWxsIT10LmlkJiYodShcImF0dGFjaGluZyBhY2sgY2FsbGJhY2sgdG8gZXZlbnRcIiksZS5wdXNoKHRoaXMuYWNrKHQuaWQpKSksdGhpcy5jb25uZWN0ZWQ/bC5hcHBseSh0aGlzLGUpOnRoaXMucmVjZWl2ZUJ1ZmZlci5wdXNoKGUpfSxyLnByb3RvdHlwZS5hY2s9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxuPSExO3JldHVybiBmdW5jdGlvbigpe2lmKCFuKXtuPSEwO3ZhciByPWEoYXJndW1lbnRzKTt1KFwic2VuZGluZyBhY2sgJWpcIixyKSxlLnBhY2tldCh7dHlwZTppLkFDSyxpZDp0LGRhdGE6cn0pfX19LHIucHJvdG90eXBlLm9uYWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWNrc1t0LmlkXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlPyh1KFwiY2FsbGluZyBhY2sgJXMgd2l0aCAlalwiLHQuaWQsdC5kYXRhKSxlLmFwcGx5KHRoaXMsdC5kYXRhKSxkZWxldGUgdGhpcy5hY2tzW3QuaWRdKTp1KFwiYmFkIGFjayAlc1wiLHQuaWQpfSxyLnByb3RvdHlwZS5vbmNvbm5lY3Q9ZnVuY3Rpb24oKXt0aGlzLmNvbm5lY3RlZD0hMCx0aGlzLmRpc2Nvbm5lY3RlZD0hMSx0aGlzLmVtaXQoXCJjb25uZWN0XCIpLHRoaXMuZW1pdEJ1ZmZlcmVkKCl9LHIucHJvdG90eXBlLmVtaXRCdWZmZXJlZD1mdW5jdGlvbigpe3ZhciB0O2Zvcih0PTA7dDx0aGlzLnJlY2VpdmVCdWZmZXIubGVuZ3RoO3QrKylsLmFwcGx5KHRoaXMsdGhpcy5yZWNlaXZlQnVmZmVyW3RdKTtmb3IodGhpcy5yZWNlaXZlQnVmZmVyPVtdLHQ9MDt0PHRoaXMuc2VuZEJ1ZmZlci5sZW5ndGg7dCsrKXRoaXMucGFja2V0KHRoaXMuc2VuZEJ1ZmZlclt0XSk7dGhpcy5zZW5kQnVmZmVyPVtdfSxyLnByb3RvdHlwZS5vbmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oKXt1KFwic2VydmVyIGRpc2Nvbm5lY3QgKCVzKVwiLHRoaXMubnNwKSx0aGlzLmRlc3Ryb3koKSx0aGlzLm9uY2xvc2UoXCJpbyBzZXJ2ZXIgZGlzY29ubmVjdFwiKX0sci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2lmKHRoaXMuc3Vicyl7Zm9yKHZhciB0PTA7dDx0aGlzLnN1YnMubGVuZ3RoO3QrKyl0aGlzLnN1YnNbdF0uZGVzdHJveSgpO3RoaXMuc3Vicz1udWxsfXRoaXMuaW8uZGVzdHJveSh0aGlzKX0sci5wcm90b3R5cGUuY2xvc2U9ci5wcm90b3R5cGUuZGlzY29ubmVjdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbm5lY3RlZCYmKHUoXCJwZXJmb3JtaW5nIGRpc2Nvbm5lY3QgKCVzKVwiLHRoaXMubnNwKSx0aGlzLnBhY2tldCh7dHlwZTppLkRJU0NPTk5FQ1R9KSksdGhpcy5kZXN0cm95KCksdGhpcy5jb25uZWN0ZWQmJnRoaXMub25jbG9zZShcImlvIGNsaWVudCBkaXNjb25uZWN0XCIpLHRoaXN9LHIucHJvdG90eXBlLmNvbXByZXNzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmZsYWdzPXRoaXMuZmxhZ3N8fHt9LHRoaXMuZmxhZ3MuY29tcHJlc3M9dCx0aGlzfX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQsZSl7dmFyIG49W107ZT1lfHwwO2Zvcih2YXIgcj1lfHwwO3I8dC5sZW5ndGg7cisrKW5bci1lXT10W3JdO3JldHVybiBufXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlLG4pe3JldHVybiB0Lm9uKGUsbikse2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0LnJlbW92ZUxpc3RlbmVyKGUsbil9fX10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlKXt2YXIgbj1bXS5zbGljZTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9dFtlXSksXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoXCJiaW5kKCkgcmVxdWlyZXMgYSBmdW5jdGlvblwiKTt2YXIgcj1uLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsci5jb25jYXQobi5jYWxsKGFyZ3VtZW50cykpKX19fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCl7dD10fHx7fSx0aGlzLm1zPXQubWlufHwxMDAsdGhpcy5tYXg9dC5tYXh8fDFlNCx0aGlzLmZhY3Rvcj10LmZhY3Rvcnx8Mix0aGlzLmppdHRlcj10LmppdHRlcj4wJiZ0LmppdHRlcjw9MT90LmppdHRlcjowLHRoaXMuYXR0ZW1wdHM9MH10LmV4cG9ydHM9bixuLnByb3RvdHlwZS5kdXJhdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubXMqTWF0aC5wb3codGhpcy5mYWN0b3IsdGhpcy5hdHRlbXB0cysrKTtpZih0aGlzLmppdHRlcil7dmFyIGU9TWF0aC5yYW5kb20oKSxuPU1hdGguZmxvb3IoZSp0aGlzLmppdHRlcip0KTt0PTA9PSgxJk1hdGguZmxvb3IoMTAqZSkpP3Qtbjp0K259cmV0dXJuIDB8TWF0aC5taW4odCx0aGlzLm1heCl9LG4ucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5hdHRlbXB0cz0wfSxuLnByb3RvdHlwZS5zZXRNaW49ZnVuY3Rpb24odCl7dGhpcy5tcz10fSxuLnByb3RvdHlwZS5zZXRNYXg9ZnVuY3Rpb24odCl7dGhpcy5tYXg9dH0sbi5wcm90b3R5cGUuc2V0Sml0dGVyPWZ1bmN0aW9uKHQpe3RoaXMuaml0dGVyPXR9fV0pfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zb2NrZXQuaW8uanMubWFwIiwiY29uc3QgZXZlbnRzID0ge1xuICBORVdfTUVTU0FHRSA6ICdbY2xpZW50IGVtaXRzXSBuZXcgbWVzc2FnZScsXG4gIFNFTkRfTUVTU0FHRSA6ICdbc2VydmVyIGVtaXRzXSBzZW5kIG1lc3NhZ2UnLFxuICBTRU5EX1VTRVJOQU1FUzogJ1tzZXJ2ZXIgZW1pdF0gdXNlcm5hbWVzJyxcbiAgTkVXX1VTRVI6ICdbY2xpZW50IGVtaXRzXSBuZXcgdXNlcicsXG4gIERJU0NPTk5FQ1QgOiAnZGlzY29ubmVjdCdcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBldmVudHM7Il19
